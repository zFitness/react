{"version":3,"file":"console.js","mappings":"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","sources":["webpack://react-devtools-shared/../../build/oss-experimental/react-debug-tools/cjs/react-debug-tools.production.js","webpack://react-devtools-shared/../../build/oss-experimental/react-debug-tools/index.js","webpack://react-devtools-shared/../../build/oss-experimental/react/cjs/react.production.js","webpack://react-devtools-shared/../../build/oss-experimental/react/index.js","webpack://react-devtools-shared/../../src/index.ts","webpack://react-devtools-shared/../../node_modules/error-stack-parser/error-stack-parser.js","webpack://react-devtools-shared/../../node_modules/lru-cache/index.js","webpack://react-devtools-shared/../../node_modules/process/browser.js","webpack://react-devtools-shared/../../node_modules/pseudomap/map.js","webpack://react-devtools-shared/../../node_modules/pseudomap/pseudomap.js","webpack://react-devtools-shared/../../node_modules/stackframe/stackframe.js","webpack://react-devtools-shared/../../node_modules/util/node_modules/inherits/inherits_browser.js","webpack://react-devtools-shared/../../node_modules/util/support/isBufferBrowser.js","webpack://react-devtools-shared/../../node_modules/util/util.js","webpack://react-devtools-shared/../../node_modules/yallist/yallist.js","webpack://react-devtools-shared/./src/backend/DevToolsConsolePatching.js","webpack://react-devtools-shared/./src/backend/DevToolsComponentStackFrame.js","webpack://react-devtools-shared/./src/backend/DevToolsFiberComponentStack.js","webpack://react-devtools-shared/./src/backend/console.js","webpack://react-devtools-shared/./src/backend/ReactSymbols.js","webpack://react-devtools-shared/../shared/objectIs.js","webpack://react-devtools-shared/../shared/hasOwnProperty.js","webpack://react-devtools-shared/./src/backend/StyleX/utils.js","webpack://react-devtools-shared/./src/devtools/constants.js","webpack://react-devtools-shared/../react-devtools-timeline/src/constants.js","webpack://react-devtools-shared/./src/backend/profilingHooks.js","webpack://react-devtools-shared/./src/backend/renderer.js","webpack://react-devtools-shared/./src/backend/utils.js","webpack://react-devtools-shared/./src/config/DevToolsFeatureFlags.core-oss.js","webpack://react-devtools-shared/./src/hydration.js","webpack://react-devtools-shared/./src/isArray.js","webpack://react-devtools-shared/../shared/ReactSymbols.js","webpack://react-devtools-shared/./src/utils.js","webpack://react-devtools-shared/../shared/ReactFeatureFlags.js","webpack://react-devtools-shared/../shared/isArray.js","webpack://react-devtools-shared/webpack/bootstrap","webpack://react-devtools-shared/webpack/runtime/compat get default export","webpack://react-devtools-shared/webpack/runtime/define property getters","webpack://react-devtools-shared/webpack/runtime/hasOwnProperty shorthand","webpack://react-devtools-shared/webpack/before-startup","webpack://react-devtools-shared/webpack/startup","webpack://react-devtools-shared/webpack/after-startup"],"sourcesContent":["/**\n * @license React\n * react-debug-tools.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar ErrorStackParser = require(\"error-stack-parser\"),\n  React = require(\"react\"),\n  assign = Object.assign,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  hasOwnProperty = Object.prototype.hasOwnProperty,\n  hookLog = [],\n  primitiveStackCache = null;\nfunction getPrimitiveStackCache() {\n  if (null === primitiveStackCache) {\n    var cache = new Map();\n    try {\n      Dispatcher.useContext({ _currentValue: null });\n      Dispatcher.useState(null);\n      Dispatcher.useReducer(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useRef(null);\n      \"function\" === typeof Dispatcher.useCacheRefresh &&\n        Dispatcher.useCacheRefresh();\n      Dispatcher.useLayoutEffect(function () {});\n      Dispatcher.useInsertionEffect(function () {});\n      Dispatcher.useEffect(function () {});\n      Dispatcher.useImperativeHandle(void 0, function () {\n        return null;\n      });\n      Dispatcher.useDebugValue(null);\n      Dispatcher.useCallback(function () {});\n      Dispatcher.useTransition();\n      Dispatcher.useSyncExternalStore(\n        function () {\n          return function () {};\n        },\n        function () {\n          return null;\n        },\n        function () {\n          return null;\n        }\n      );\n      Dispatcher.useDeferredValue(null);\n      Dispatcher.useMemo(function () {\n        return null;\n      });\n      \"function\" === typeof Dispatcher.useMemoCache &&\n        Dispatcher.useMemoCache(0);\n      \"function\" === typeof Dispatcher.useOptimistic &&\n        Dispatcher.useOptimistic(null, function (s) {\n          return s;\n        });\n      \"function\" === typeof Dispatcher.useFormState &&\n        Dispatcher.useFormState(function (s) {\n          return s;\n        }, null);\n      \"function\" === typeof Dispatcher.useActionState &&\n        Dispatcher.useActionState(function (s) {\n          return s;\n        }, null);\n      if (\"function\" === typeof Dispatcher.use) {\n        Dispatcher.use({ $$typeof: REACT_CONTEXT_TYPE, _currentValue: null });\n        Dispatcher.use({\n          then: function () {},\n          status: \"fulfilled\",\n          value: null\n        });\n        try {\n          Dispatcher.use({ then: function () {} });\n        } catch (x) {}\n      }\n      Dispatcher.useId();\n      \"function\" === typeof Dispatcher.useHostTransitionStatus &&\n        Dispatcher.useHostTransitionStatus();\n    } finally {\n      var readHookLog = hookLog;\n      hookLog = [];\n    }\n    for (var i = 0; i < readHookLog.length; i++) {\n      var hook = readHookLog[i];\n      cache.set(hook.primitive, ErrorStackParser.parse(hook.stackError));\n    }\n    primitiveStackCache = cache;\n  }\n  return primitiveStackCache;\n}\nvar currentFiber = null,\n  currentHook = null,\n  currentContextDependency = null;\nfunction nextHook() {\n  var hook = currentHook;\n  null !== hook && (currentHook = hook.next);\n  return hook;\n}\nfunction readContext(context) {\n  if (null === currentFiber) return context._currentValue;\n  if (null === currentContextDependency)\n    throw Error(\n      \"Context reads do not line up with context dependencies. This is a bug in React Debug Tools.\"\n    );\n  hasOwnProperty.call(currentContextDependency, \"memoizedValue\")\n    ? ((context = currentContextDependency.memoizedValue),\n      (currentContextDependency = currentContextDependency.next))\n    : (context = context._currentValue);\n  return context;\n}\nvar SuspenseException = Error(\n    \"Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\\n\\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`\"\n  ),\n  Dispatcher = {\n    use: function (usable) {\n      if (null !== usable && \"object\" === typeof usable) {\n        if (\"function\" === typeof usable.then) {\n          switch (usable.status) {\n            case \"fulfilled\":\n              var fulfilledValue = usable.value;\n              hookLog.push({\n                displayName: null,\n                primitive: \"Promise\",\n                stackError: Error(),\n                value: fulfilledValue,\n                debugInfo:\n                  void 0 === usable._debugInfo ? null : usable._debugInfo,\n                dispatcherHookName: \"Use\"\n              });\n              return fulfilledValue;\n            case \"rejected\":\n              throw usable.reason;\n          }\n          hookLog.push({\n            displayName: null,\n            primitive: \"Unresolved\",\n            stackError: Error(),\n            value: usable,\n            debugInfo: void 0 === usable._debugInfo ? null : usable._debugInfo,\n            dispatcherHookName: \"Use\"\n          });\n          throw SuspenseException;\n        }\n        if (usable.$$typeof === REACT_CONTEXT_TYPE)\n          return (\n            (fulfilledValue = readContext(usable)),\n            hookLog.push({\n              displayName: usable.displayName || \"Context\",\n              primitive: \"Context (use)\",\n              stackError: Error(),\n              value: fulfilledValue,\n              debugInfo: null,\n              dispatcherHookName: \"Use\"\n            }),\n            fulfilledValue\n          );\n      }\n      throw Error(\"An unsupported type was passed to use(): \" + String(usable));\n    },\n    readContext: readContext,\n    useCacheRefresh: function () {\n      var hook = nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"CacheRefresh\",\n        stackError: Error(),\n        value: null !== hook ? hook.memoizedState : function () {},\n        debugInfo: null,\n        dispatcherHookName: \"CacheRefresh\"\n      });\n      return function () {};\n    },\n    useCallback: function (callback) {\n      var hook = nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Callback\",\n        stackError: Error(),\n        value: null !== hook ? hook.memoizedState[0] : callback,\n        debugInfo: null,\n        dispatcherHookName: \"Callback\"\n      });\n      return callback;\n    },\n    useContext: function (context) {\n      var value = readContext(context);\n      hookLog.push({\n        displayName: context.displayName || null,\n        primitive: \"Context\",\n        stackError: Error(),\n        value: value,\n        debugInfo: null,\n        dispatcherHookName: \"Context\"\n      });\n      return value;\n    },\n    useEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Effect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"Effect\"\n      });\n    },\n    useImperativeHandle: function (ref) {\n      nextHook();\n      var instance = void 0;\n      null !== ref && \"object\" === typeof ref && (instance = ref.current);\n      hookLog.push({\n        displayName: null,\n        primitive: \"ImperativeHandle\",\n        stackError: Error(),\n        value: instance,\n        debugInfo: null,\n        dispatcherHookName: \"ImperativeHandle\"\n      });\n    },\n    useDebugValue: function (value, formatterFn) {\n      hookLog.push({\n        displayName: null,\n        primitive: \"DebugValue\",\n        stackError: Error(),\n        value: \"function\" === typeof formatterFn ? formatterFn(value) : value,\n        debugInfo: null,\n        dispatcherHookName: \"DebugValue\"\n      });\n    },\n    useLayoutEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"LayoutEffect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"LayoutEffect\"\n      });\n    },\n    useInsertionEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"InsertionEffect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"InsertionEffect\"\n      });\n    },\n    useMemo: function (nextCreate) {\n      var hook = nextHook();\n      nextCreate = null !== hook ? hook.memoizedState[0] : nextCreate();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Memo\",\n        stackError: Error(),\n        value: nextCreate,\n        debugInfo: null,\n        dispatcherHookName: \"Memo\"\n      });\n      return nextCreate;\n    },\n    useMemoCache: function (size) {\n      var fiber = currentFiber;\n      if (null == fiber) return [];\n      var $jscomp$optchain$tmpm1596876077$0;\n      fiber =\n        null == ($jscomp$optchain$tmpm1596876077$0 = fiber.updateQueue)\n          ? void 0\n          : $jscomp$optchain$tmpm1596876077$0.memoCache;\n      if (null == fiber) return [];\n      $jscomp$optchain$tmpm1596876077$0 = fiber.data[fiber.index];\n      if (void 0 === $jscomp$optchain$tmpm1596876077$0) {\n        $jscomp$optchain$tmpm1596876077$0 = fiber.data[fiber.index] =\n          Array(size);\n        for (var i = 0; i < size; i++)\n          $jscomp$optchain$tmpm1596876077$0[i] = REACT_MEMO_CACHE_SENTINEL;\n      }\n      fiber.index++;\n      return $jscomp$optchain$tmpm1596876077$0;\n    },\n    useOptimistic: function (passthrough) {\n      var hook = nextHook();\n      passthrough = null !== hook ? hook.memoizedState : passthrough;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Optimistic\",\n        stackError: Error(),\n        value: passthrough,\n        debugInfo: null,\n        dispatcherHookName: \"Optimistic\"\n      });\n      return [passthrough, function () {}];\n    },\n    useReducer: function (reducer, initialArg, init) {\n      reducer = nextHook();\n      initialArg =\n        null !== reducer\n          ? reducer.memoizedState\n          : void 0 !== init\n          ? init(initialArg)\n          : initialArg;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Reducer\",\n        stackError: Error(),\n        value: initialArg,\n        debugInfo: null,\n        dispatcherHookName: \"Reducer\"\n      });\n      return [initialArg, function () {}];\n    },\n    useRef: function (initialValue) {\n      var hook = nextHook();\n      initialValue =\n        null !== hook ? hook.memoizedState : { current: initialValue };\n      hookLog.push({\n        displayName: null,\n        primitive: \"Ref\",\n        stackError: Error(),\n        value: initialValue.current,\n        debugInfo: null,\n        dispatcherHookName: \"Ref\"\n      });\n      return initialValue;\n    },\n    useState: function (initialState) {\n      var hook = nextHook();\n      initialState =\n        null !== hook\n          ? hook.memoizedState\n          : \"function\" === typeof initialState\n          ? initialState()\n          : initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"State\",\n        stackError: Error(),\n        value: initialState,\n        debugInfo: null,\n        dispatcherHookName: \"State\"\n      });\n      return [initialState, function () {}];\n    },\n    useTransition: function () {\n      var stateHook = nextHook();\n      nextHook();\n      stateHook = null !== stateHook ? stateHook.memoizedState : !1;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Transition\",\n        stackError: Error(),\n        value: stateHook,\n        debugInfo: null,\n        dispatcherHookName: \"Transition\"\n      });\n      return [stateHook, function () {}];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot) {\n      nextHook();\n      nextHook();\n      subscribe = getSnapshot();\n      hookLog.push({\n        displayName: null,\n        primitive: \"SyncExternalStore\",\n        stackError: Error(),\n        value: subscribe,\n        debugInfo: null,\n        dispatcherHookName: \"SyncExternalStore\"\n      });\n      return subscribe;\n    },\n    useDeferredValue: function (value) {\n      var hook = nextHook();\n      value = null !== hook ? hook.memoizedState : value;\n      hookLog.push({\n        displayName: null,\n        primitive: \"DeferredValue\",\n        stackError: Error(),\n        value: value,\n        debugInfo: null,\n        dispatcherHookName: \"DeferredValue\"\n      });\n      return value;\n    },\n    useId: function () {\n      var hook = nextHook();\n      hook = null !== hook ? hook.memoizedState : \"\";\n      hookLog.push({\n        displayName: null,\n        primitive: \"Id\",\n        stackError: Error(),\n        value: hook,\n        debugInfo: null,\n        dispatcherHookName: \"Id\"\n      });\n      return hook;\n    },\n    useFormState: function (action, initialState) {\n      var hook = nextHook();\n      nextHook();\n      nextHook();\n      action = Error();\n      var debugInfo = null,\n        error = null;\n      if (null !== hook)\n        if (\n          ((initialState = hook.memoizedState),\n          \"object\" === typeof initialState &&\n            null !== initialState &&\n            \"function\" === typeof initialState.then)\n        )\n          switch (initialState.status) {\n            case \"fulfilled\":\n              var value = initialState.value;\n              debugInfo =\n                void 0 === initialState._debugInfo\n                  ? null\n                  : initialState._debugInfo;\n              break;\n            case \"rejected\":\n              error = initialState.reason;\n              break;\n            default:\n              (error = SuspenseException),\n                (debugInfo =\n                  void 0 === initialState._debugInfo\n                    ? null\n                    : initialState._debugInfo),\n                (value = initialState);\n          }\n        else value = initialState;\n      else value = initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"FormState\",\n        stackError: action,\n        value: value,\n        debugInfo: debugInfo,\n        dispatcherHookName: \"FormState\"\n      });\n      if (null !== error) throw error;\n      return [value, function () {}, !1];\n    },\n    useActionState: function (action, initialState) {\n      var hook = nextHook();\n      nextHook();\n      nextHook();\n      action = Error();\n      var debugInfo = null,\n        error = null;\n      if (null !== hook)\n        if (\n          ((initialState = hook.memoizedState),\n          \"object\" === typeof initialState &&\n            null !== initialState &&\n            \"function\" === typeof initialState.then)\n        )\n          switch (initialState.status) {\n            case \"fulfilled\":\n              var value = initialState.value;\n              debugInfo =\n                void 0 === initialState._debugInfo\n                  ? null\n                  : initialState._debugInfo;\n              break;\n            case \"rejected\":\n              error = initialState.reason;\n              break;\n            default:\n              (error = SuspenseException),\n                (debugInfo =\n                  void 0 === initialState._debugInfo\n                    ? null\n                    : initialState._debugInfo),\n                (value = initialState);\n          }\n        else value = initialState;\n      else value = initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"ActionState\",\n        stackError: action,\n        value: value,\n        debugInfo: debugInfo,\n        dispatcherHookName: \"ActionState\"\n      });\n      if (null !== error) throw error;\n      return [value, function () {}, !1];\n    },\n    useHostTransitionStatus: function () {\n      var status = readContext({ _currentValue: null });\n      hookLog.push({\n        displayName: null,\n        primitive: \"HostTransitionStatus\",\n        stackError: Error(),\n        value: status,\n        debugInfo: null,\n        dispatcherHookName: \"HostTransitionStatus\"\n      });\n      return status;\n    }\n  },\n  DispatcherProxyHandler = {\n    get: function (target, prop) {\n      if (target.hasOwnProperty(prop)) return target[prop];\n      target = Error(\"Missing method in Dispatcher: \" + prop);\n      target.name = \"ReactDebugToolsUnsupportedHookError\";\n      throw target;\n    }\n  },\n  DispatcherProxy =\n    \"undefined\" === typeof Proxy\n      ? Dispatcher\n      : new Proxy(Dispatcher, DispatcherProxyHandler),\n  mostLikelyAncestorIndex = 0;\nfunction findSharedIndex(hookStack, rootStack, rootIndex) {\n  var source = rootStack[rootIndex].source,\n    i = 0;\n  a: for (; i < hookStack.length; i++)\n    if (hookStack[i].source === source) {\n      for (\n        var a = rootIndex + 1, b = i + 1;\n        a < rootStack.length && b < hookStack.length;\n        a++, b++\n      )\n        if (hookStack[b].source !== rootStack[a].source) continue a;\n      return i;\n    }\n  return -1;\n}\nfunction isReactWrapper(functionName, wrapperName) {\n  functionName = parseHookName(functionName);\n  return \"HostTransitionStatus\" === wrapperName\n    ? functionName === wrapperName || \"FormStatus\" === functionName\n    : functionName === wrapperName;\n}\nfunction parseHookName(functionName) {\n  if (!functionName) return \"\";\n  var startIndex = functionName.lastIndexOf(\"[as \");\n  if (-1 !== startIndex)\n    return parseHookName(functionName.slice(startIndex + 4, -1));\n  startIndex = functionName.lastIndexOf(\".\");\n  startIndex = -1 === startIndex ? 0 : startIndex + 1;\n  if (\"use\" === functionName.slice(startIndex, startIndex + 3)) {\n    if (3 === functionName.length - startIndex) return \"Use\";\n    startIndex += 3;\n  }\n  return functionName.slice(startIndex);\n}\nfunction buildTree(rootStack$jscomp$0, readHookLog) {\n  for (\n    var rootChildren = [],\n      prevStack = null,\n      levelChildren = rootChildren,\n      nativeHookID = 0,\n      stackOfChildren = [],\n      i = 0;\n    i < readHookLog.length;\n    i++\n  ) {\n    var hook = readHookLog[i];\n    var rootStack = rootStack$jscomp$0;\n    var JSCompiler_inline_result = ErrorStackParser.parse(hook.stackError);\n    b: {\n      var hookStack = JSCompiler_inline_result,\n        rootIndex = findSharedIndex(\n          hookStack,\n          rootStack,\n          mostLikelyAncestorIndex\n        );\n      if (-1 !== rootIndex) rootStack = rootIndex;\n      else {\n        for (\n          var i$jscomp$0 = 0;\n          i$jscomp$0 < rootStack.length && 5 > i$jscomp$0;\n          i$jscomp$0++\n        )\n          if (\n            ((rootIndex = findSharedIndex(hookStack, rootStack, i$jscomp$0)),\n            -1 !== rootIndex)\n          ) {\n            mostLikelyAncestorIndex = i$jscomp$0;\n            rootStack = rootIndex;\n            break b;\n          }\n        rootStack = -1;\n      }\n    }\n    b: {\n      hookStack = JSCompiler_inline_result;\n      rootIndex = getPrimitiveStackCache().get(hook.primitive);\n      if (void 0 !== rootIndex)\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < rootIndex.length && i$jscomp$0 < hookStack.length;\n          i$jscomp$0++\n        )\n          if (rootIndex[i$jscomp$0].source !== hookStack[i$jscomp$0].source) {\n            i$jscomp$0 < hookStack.length - 1 &&\n              isReactWrapper(\n                hookStack[i$jscomp$0].functionName,\n                hook.dispatcherHookName\n              ) &&\n              i$jscomp$0++;\n            i$jscomp$0 < hookStack.length - 1 &&\n              isReactWrapper(\n                hookStack[i$jscomp$0].functionName,\n                hook.dispatcherHookName\n              ) &&\n              i$jscomp$0++;\n            hookStack = i$jscomp$0;\n            break b;\n          }\n      hookStack = -1;\n    }\n    JSCompiler_inline_result =\n      -1 === rootStack || -1 === hookStack || 2 > rootStack - hookStack\n        ? -1 === hookStack\n          ? [null, null]\n          : [JSCompiler_inline_result[hookStack - 1], null]\n        : [\n            JSCompiler_inline_result[hookStack - 1],\n            JSCompiler_inline_result.slice(hookStack, rootStack - 1)\n          ];\n    hookStack = JSCompiler_inline_result[0];\n    JSCompiler_inline_result = JSCompiler_inline_result[1];\n    rootStack = hook.displayName;\n    null === rootStack &&\n      null !== hookStack &&\n      (rootStack =\n        parseHookName(hookStack.functionName) ||\n        parseHookName(hook.dispatcherHookName));\n    if (null !== JSCompiler_inline_result) {\n      hookStack = 0;\n      if (null !== prevStack) {\n        for (\n          ;\n          hookStack < JSCompiler_inline_result.length &&\n          hookStack < prevStack.length &&\n          JSCompiler_inline_result[\n            JSCompiler_inline_result.length - hookStack - 1\n          ].source === prevStack[prevStack.length - hookStack - 1].source;\n\n        )\n          hookStack++;\n        for (\n          prevStack = prevStack.length - 1;\n          prevStack > hookStack;\n          prevStack--\n        )\n          levelChildren = stackOfChildren.pop();\n      }\n      for (\n        prevStack = JSCompiler_inline_result.length - hookStack - 1;\n        1 <= prevStack;\n        prevStack--\n      )\n        (hookStack = []),\n          (rootIndex = JSCompiler_inline_result[prevStack]),\n          (rootIndex = {\n            id: null,\n            isStateEditable: !1,\n            name: parseHookName(\n              JSCompiler_inline_result[prevStack - 1].functionName\n            ),\n            value: void 0,\n            subHooks: hookStack,\n            debugInfo: null,\n            hookSource: {\n              lineNumber: rootIndex.lineNumber,\n              columnNumber: rootIndex.columnNumber,\n              functionName: rootIndex.functionName,\n              fileName: rootIndex.fileName\n            }\n          }),\n          levelChildren.push(rootIndex),\n          stackOfChildren.push(levelChildren),\n          (levelChildren = hookStack);\n      prevStack = JSCompiler_inline_result;\n    }\n    hookStack = hook.primitive;\n    rootIndex = hook.debugInfo;\n    hook = {\n      id:\n        \"Context\" === hookStack ||\n        \"Context (use)\" === hookStack ||\n        \"DebugValue\" === hookStack ||\n        \"Promise\" === hookStack ||\n        \"Unresolved\" === hookStack ||\n        \"HostTransitionStatus\" === hookStack\n          ? null\n          : nativeHookID++,\n      isStateEditable: \"Reducer\" === hookStack || \"State\" === hookStack,\n      name: rootStack || hookStack,\n      value: hook.value,\n      subHooks: [],\n      debugInfo: rootIndex,\n      hookSource: null\n    };\n    rootStack = {\n      lineNumber: null,\n      functionName: null,\n      fileName: null,\n      columnNumber: null\n    };\n    JSCompiler_inline_result &&\n      1 <= JSCompiler_inline_result.length &&\n      ((JSCompiler_inline_result = JSCompiler_inline_result[0]),\n      (rootStack.lineNumber = JSCompiler_inline_result.lineNumber),\n      (rootStack.functionName = JSCompiler_inline_result.functionName),\n      (rootStack.fileName = JSCompiler_inline_result.fileName),\n      (rootStack.columnNumber = JSCompiler_inline_result.columnNumber));\n    hook.hookSource = rootStack;\n    levelChildren.push(hook);\n  }\n  processDebugValues(rootChildren, null);\n  return rootChildren;\n}\nfunction processDebugValues(hooksTree, parentHooksNode) {\n  for (var debugValueHooksNodes = [], i = 0; i < hooksTree.length; i++) {\n    var hooksNode = hooksTree[i];\n    \"DebugValue\" === hooksNode.name && 0 === hooksNode.subHooks.length\n      ? (hooksTree.splice(i, 1), i--, debugValueHooksNodes.push(hooksNode))\n      : processDebugValues(hooksNode.subHooks, hooksNode);\n  }\n  null !== parentHooksNode &&\n    (1 === debugValueHooksNodes.length\n      ? (parentHooksNode.value = debugValueHooksNodes[0].value)\n      : 1 < debugValueHooksNodes.length &&\n        (parentHooksNode.value = debugValueHooksNodes.map(function (_ref) {\n          return _ref.value;\n        })));\n}\nfunction handleRenderFunctionError(error) {\n  if (error !== SuspenseException) {\n    if (\n      error instanceof Error &&\n      \"ReactDebugToolsUnsupportedHookError\" === error.name\n    )\n      throw error;\n    var wrapperError = Error(\"Error rendering inspected component\", {\n      cause: error\n    });\n    wrapperError.name = \"ReactDebugToolsRenderError\";\n    wrapperError.cause = error;\n    throw wrapperError;\n  }\n}\nfunction inspectHooks(renderFunction, props, currentDispatcher) {\n  null == currentDispatcher && (currentDispatcher = ReactSharedInternals);\n  var previousDispatcher = currentDispatcher.H;\n  currentDispatcher.H = DispatcherProxy;\n  try {\n    var ancestorStackError = Error();\n    renderFunction(props);\n  } catch (error) {\n    handleRenderFunctionError(error);\n  } finally {\n    (renderFunction = hookLog),\n      (hookLog = []),\n      (currentDispatcher.H = previousDispatcher);\n  }\n  currentDispatcher = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(currentDispatcher, renderFunction);\n}\nfunction restoreContexts(contextMap) {\n  contextMap.forEach(function (value, context) {\n    return (context._currentValue = value);\n  });\n}\nexports.inspectHooks = inspectHooks;\nexports.inspectHooksOfFiber = function (fiber, currentDispatcher) {\n  null == currentDispatcher && (currentDispatcher = ReactSharedInternals);\n  if (0 !== fiber.tag && 15 !== fiber.tag && 11 !== fiber.tag)\n    throw Error(\n      \"Unknown Fiber. Needs to be a function component to inspect hooks.\"\n    );\n  getPrimitiveStackCache();\n  currentHook = fiber.memoizedState;\n  currentFiber = fiber;\n  if (hasOwnProperty.call(currentFiber, \"dependencies\")) {\n    var dependencies = currentFiber.dependencies;\n    currentContextDependency =\n      null !== dependencies ? dependencies.firstContext : null;\n  } else if (hasOwnProperty.call(currentFiber, \"dependencies_old\"))\n    (dependencies = currentFiber.dependencies_old),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"dependencies_new\"))\n    (dependencies = currentFiber.dependencies_new),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"contextDependencies\"))\n    (dependencies = currentFiber.contextDependencies),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.first : null);\n  else\n    throw Error(\n      \"Unsupported React version. This is a bug in React Debug Tools.\"\n    );\n  dependencies = fiber.type;\n  var props = fiber.memoizedProps;\n  if (\n    dependencies !== fiber.elementType &&\n    dependencies &&\n    dependencies.defaultProps\n  ) {\n    props = assign({}, props);\n    var defaultProps = dependencies.defaultProps;\n    for (propName in defaultProps)\n      void 0 === props[propName] && (props[propName] = defaultProps[propName]);\n  }\n  var propName = new Map();\n  try {\n    if (\n      null !== currentContextDependency &&\n      !hasOwnProperty.call(currentContextDependency, \"memoizedValue\")\n    )\n      for (defaultProps = fiber; defaultProps; ) {\n        if (10 === defaultProps.tag) {\n          var context = defaultProps.type;\n          void 0 !== context._context && (context = context._context);\n          propName.has(context) ||\n            (propName.set(context, context._currentValue),\n            (context._currentValue = defaultProps.memoizedProps.value));\n        }\n        defaultProps = defaultProps.return;\n      }\n    if (11 === fiber.tag) {\n      var renderFunction = dependencies.render;\n      context = props;\n      var ref = fiber.ref;\n      fiber = currentDispatcher;\n      var previousDispatcher = fiber.H;\n      fiber.H = DispatcherProxy;\n      try {\n        var ancestorStackError = Error();\n        renderFunction(context, ref);\n      } catch (error) {\n        handleRenderFunctionError(error);\n      } finally {\n        var readHookLog = hookLog;\n        hookLog = [];\n        fiber.H = previousDispatcher;\n      }\n      var rootStack = ErrorStackParser.parse(ancestorStackError);\n      return buildTree(rootStack, readHookLog);\n    }\n    return inspectHooks(dependencies, props, currentDispatcher);\n  } finally {\n    (currentContextDependency = currentHook = currentFiber = null),\n      restoreContexts(propName);\n  }\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-debug-tools.production.js');\n} else {\n  module.exports = require('./cjs/react-debug-tools.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_DEBUG_TRACING_MODE_TYPE = Symbol.for(\"react.debug_trace_mode\"),\n  REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\"),\n  REACT_POSTPONE_TYPE = Symbol.for(\"react.postpone\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, _ref, self, source, owner, props) {\n  _ref = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== _ref ? _ref : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    null,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nfunction useOptimistic(passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, null, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, null, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.experimental_useEffectEvent = function (callback) {\n  return ReactSharedInternals.H.useEffectEvent(callback);\n};\nexports.experimental_useOptimistic = function (passthrough, reducer) {\n  return useOptimistic(passthrough, reducer);\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    transition = {};\n  ReactSharedInternals.T = transition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(transition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_Activity = REACT_OFFSCREEN_TYPE;\nexports.unstable_DebugTracingMode = REACT_DEBUG_TRACING_MODE_TYPE;\nexports.unstable_SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nexports.unstable_getCacheForType = function (resourceType) {\n  var dispatcher = ReactSharedInternals.A;\n  return dispatcher ? dispatcher.getCacheForType(resourceType) : resourceType();\n};\nexports.unstable_postpone = function (reason) {\n  reason = Error(reason);\n  reason.$$typeof = REACT_POSTPONE_TYPE;\n  throw reason;\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = useOptimistic;\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.0.0-experimental-20b6f4c-20240607\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * Compare [semver](https://semver.org/) version strings to find greater, equal or lesser.\n * This library supports the full semver specification, including comparing versions with different number of digits like `1.0.0`, `1.0`, `1`, and pre-release versions like `1.0.0-alpha`.\n * @param v1 - First version to compare\n * @param v2 - Second version to compare\n * @returns Numeric value compatible with the [Array.sort(fn) interface](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Parameters).\n */\nexport const compareVersions = (v1, v2) => {\n    // validate input and split into segments\n    const n1 = validateAndParse(v1);\n    const n2 = validateAndParse(v2);\n    // pop off the patch\n    const p1 = n1.pop();\n    const p2 = n2.pop();\n    // validate numbers\n    const r = compareSegments(n1, n2);\n    if (r !== 0)\n        return r;\n    // validate pre-release\n    if (p1 && p2) {\n        return compareSegments(p1.split('.'), p2.split('.'));\n    }\n    else if (p1 || p2) {\n        return p1 ? -1 : 1;\n    }\n    return 0;\n};\n/**\n * Validate [semver](https://semver.org/) version strings.\n *\n * @param version Version number to validate\n * @returns `true` if the version number is a valid semver version number, `false` otherwise.\n *\n * @example\n * ```\n * validate('1.0.0-rc.1'); // return true\n * validate('1.0-rc.1'); // return false\n * validate('foo'); // return false\n * ```\n */\nexport const validate = (version) => typeof version === 'string' && /^[v\\d]/.test(version) && semver.test(version);\n/**\n * Compare [semver](https://semver.org/) version strings using the specified operator.\n *\n * @param v1 First version to compare\n * @param v2 Second version to compare\n * @param operator Allowed arithmetic operator to use\n * @returns `true` if the comparison between the firstVersion and the secondVersion satisfies the operator, `false` otherwise.\n *\n * @example\n * ```\n * compare('10.1.8', '10.0.4', '>'); // return true\n * compare('10.0.1', '10.0.1', '='); // return true\n * compare('10.1.1', '10.2.2', '<'); // return true\n * compare('10.1.1', '10.2.2', '<='); // return true\n * compare('10.1.1', '10.2.2', '>='); // return false\n * ```\n */\nexport const compare = (v1, v2, operator) => {\n    // validate input operator\n    assertValidOperator(operator);\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    const res = compareVersions(v1, v2);\n    return operatorResMap[operator].includes(res);\n};\n/**\n * Match [npm semver](https://docs.npmjs.com/cli/v6/using-npm/semver) version range.\n *\n * @param version Version number to match\n * @param range Range pattern for version\n * @returns `true` if the version number is within the range, `false` otherwise.\n *\n * @example\n * ```\n * satisfies('1.1.0', '^1.0.0'); // return true\n * satisfies('1.1.0', '~1.0.0'); // return false\n * ```\n */\nexport const satisfies = (version, range) => {\n    // if no range operator then \"=\"\n    const m = range.match(/^([<>=~^]+)/);\n    const op = m ? m[1] : '=';\n    // if gt/lt/eq then operator compare\n    if (op !== '^' && op !== '~')\n        return compare(version, range, op);\n    // else range of either \"~\" or \"^\" is assumed\n    const [v1, v2, v3, , vp] = validateAndParse(version);\n    const [r1, r2, r3, , rp] = validateAndParse(range);\n    const v = [v1, v2, v3];\n    const r = [r1, r2 !== null && r2 !== void 0 ? r2 : 'x', r3 !== null && r3 !== void 0 ? r3 : 'x'];\n    // validate pre-release\n    if (rp) {\n        if (!vp)\n            return false;\n        if (compareSegments(v, r) !== 0)\n            return false;\n        if (compareSegments(vp.split('.'), rp.split('.')) === -1)\n            return false;\n    }\n    // first non-zero number\n    const nonZero = r.findIndex((v) => v !== '0') + 1;\n    // pointer to where segments can be >=\n    const i = op === '~' ? 2 : nonZero > 1 ? nonZero : 1;\n    // before pointer must be equal\n    if (compareSegments(v.slice(0, i), r.slice(0, i)) !== 0)\n        return false;\n    // after pointer must be >=\n    if (compareSegments(v.slice(i), r.slice(i)) === -1)\n        return false;\n    return true;\n};\nconst semver = /^[v^~<>=]*?(\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+))?(?:-([\\da-z\\-]+(?:\\.[\\da-z\\-]+)*))?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\nconst validateAndParse = (version) => {\n    if (typeof version !== 'string') {\n        throw new TypeError('Invalid argument expected string');\n    }\n    const match = version.match(semver);\n    if (!match) {\n        throw new Error(`Invalid argument not valid semver ('${version}' received)`);\n    }\n    match.shift();\n    return match;\n};\nconst isWildcard = (s) => s === '*' || s === 'x' || s === 'X';\nconst tryParse = (v) => {\n    const n = parseInt(v, 10);\n    return isNaN(n) ? v : n;\n};\nconst forceType = (a, b) => typeof a !== typeof b ? [String(a), String(b)] : [a, b];\nconst compareStrings = (a, b) => {\n    if (isWildcard(a) || isWildcard(b))\n        return 0;\n    const [ap, bp] = forceType(tryParse(a), tryParse(b));\n    if (ap > bp)\n        return 1;\n    if (ap < bp)\n        return -1;\n    return 0;\n};\nconst compareSegments = (a, b) => {\n    for (let i = 0; i < Math.max(a.length, b.length); i++) {\n        const r = compareStrings(a[i] || '0', b[i] || '0');\n        if (r !== 0)\n            return r;\n    }\n    return 0;\n};\nconst operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1],\n};\nconst allowedOperators = Object.keys(operatorResMap);\nconst assertValidOperator = (op) => {\n    if (typeof op !== 'string') {\n        throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n        throw new Error(`Invalid operator, expected one of ${allowedOperators.join('|')}`);\n    }\n};\n//# sourceMappingURL=index.js.map","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","'use strict'\n\nmodule.exports = LRUCache\n\n// This will be a proper iterable 'Map' in engines that support it,\n// or a fakey-fake PseudoMap in older versions.\nvar Map = require('pseudomap')\nvar util = require('util')\n\n// A linked list to keep track of recently-used-ness\nvar Yallist = require('yallist')\n\n// use symbols if possible, otherwise just _props\nvar hasSymbol = typeof Symbol === 'function' && process.env._nodeLRUCacheForceNoSymbol !== '1'\nvar makeSymbol\nif (hasSymbol) {\n  makeSymbol = function (key) {\n    return Symbol(key)\n  }\n} else {\n  makeSymbol = function (key) {\n    return '_' + key\n  }\n}\n\nvar MAX = makeSymbol('max')\nvar LENGTH = makeSymbol('length')\nvar LENGTH_CALCULATOR = makeSymbol('lengthCalculator')\nvar ALLOW_STALE = makeSymbol('allowStale')\nvar MAX_AGE = makeSymbol('maxAge')\nvar DISPOSE = makeSymbol('dispose')\nvar NO_DISPOSE_ON_SET = makeSymbol('noDisposeOnSet')\nvar LRU_LIST = makeSymbol('lruList')\nvar CACHE = makeSymbol('cache')\n\nfunction naiveLength () { return 1 }\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  if (typeof options === 'number') {\n    options = { max: options }\n  }\n\n  if (!options) {\n    options = {}\n  }\n\n  var max = this[MAX] = options.max\n  // Kind of weird to have a default max of Infinity, but oh well.\n  if (!max ||\n      !(typeof max === 'number') ||\n      max <= 0) {\n    this[MAX] = Infinity\n  }\n\n  var lc = options.length || naiveLength\n  if (typeof lc !== 'function') {\n    lc = naiveLength\n  }\n  this[LENGTH_CALCULATOR] = lc\n\n  this[ALLOW_STALE] = options.stale || false\n  this[MAX_AGE] = options.maxAge || 0\n  this[DISPOSE] = options.dispose\n  this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n  this.reset()\n}\n\n// resize the cache when the max changes.\nObject.defineProperty(LRUCache.prototype, 'max', {\n  set: function (mL) {\n    if (!mL || !(typeof mL === 'number') || mL <= 0) {\n      mL = Infinity\n    }\n    this[MAX] = mL\n    trim(this)\n  },\n  get: function () {\n    return this[MAX]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'allowStale', {\n  set: function (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  },\n  get: function () {\n    return this[ALLOW_STALE]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'maxAge', {\n  set: function (mA) {\n    if (!mA || !(typeof mA === 'number') || mA < 0) {\n      mA = 0\n    }\n    this[MAX_AGE] = mA\n    trim(this)\n  },\n  get: function () {\n    return this[MAX_AGE]\n  },\n  enumerable: true\n})\n\n// resize the cache when the lengthCalculator changes.\nObject.defineProperty(LRUCache.prototype, 'lengthCalculator', {\n  set: function (lC) {\n    if (typeof lC !== 'function') {\n      lC = naiveLength\n    }\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(function (hit) {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      }, this)\n    }\n    trim(this)\n  },\n  get: function () { return this[LENGTH_CALCULATOR] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'length', {\n  get: function () { return this[LENGTH] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'itemCount', {\n  get: function () { return this[LRU_LIST].length },\n  enumerable: true\n})\n\nLRUCache.prototype.rforEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].tail; walker !== null;) {\n    var prev = walker.prev\n    forEachStep(this, fn, walker, thisp)\n    walker = prev\n  }\n}\n\nfunction forEachStep (self, fn, node, thisp) {\n  var hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE]) {\n      hit = undefined\n    }\n  }\n  if (hit) {\n    fn.call(thisp, hit.value, hit.key, self)\n  }\n}\n\nLRUCache.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].head; walker !== null;) {\n    var next = walker.next\n    forEachStep(this, fn, walker, thisp)\n    walker = next\n  }\n}\n\nLRUCache.prototype.keys = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.key\n  }, this)\n}\n\nLRUCache.prototype.values = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.value\n  }, this)\n}\n\nLRUCache.prototype.reset = function () {\n  if (this[DISPOSE] &&\n      this[LRU_LIST] &&\n      this[LRU_LIST].length) {\n    this[LRU_LIST].forEach(function (hit) {\n      this[DISPOSE](hit.key, hit.value)\n    }, this)\n  }\n\n  this[CACHE] = new Map() // hash of items by key\n  this[LRU_LIST] = new Yallist() // list of items in order of use recency\n  this[LENGTH] = 0 // length of items in the list\n}\n\nLRUCache.prototype.dump = function () {\n  return this[LRU_LIST].map(function (hit) {\n    if (!isStale(this, hit)) {\n      return {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }\n    }\n  }, this).toArray().filter(function (h) {\n    return h\n  })\n}\n\nLRUCache.prototype.dumpLru = function () {\n  return this[LRU_LIST]\n}\n\n/* istanbul ignore next */\nLRUCache.prototype.inspect = function (n, opts) {\n  var str = 'LRUCache {'\n  var extras = false\n\n  var as = this[ALLOW_STALE]\n  if (as) {\n    str += '\\n  allowStale: true'\n    extras = true\n  }\n\n  var max = this[MAX]\n  if (max && max !== Infinity) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  max: ' + util.inspect(max, opts)\n    extras = true\n  }\n\n  var maxAge = this[MAX_AGE]\n  if (maxAge) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  maxAge: ' + util.inspect(maxAge, opts)\n    extras = true\n  }\n\n  var lc = this[LENGTH_CALCULATOR]\n  if (lc && lc !== naiveLength) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  length: ' + util.inspect(this[LENGTH], opts)\n    extras = true\n  }\n\n  var didFirst = false\n  this[LRU_LIST].forEach(function (item) {\n    if (didFirst) {\n      str += ',\\n  '\n    } else {\n      if (extras) {\n        str += ',\\n'\n      }\n      didFirst = true\n      str += '\\n  '\n    }\n    var key = util.inspect(item.key).split('\\n').join('\\n  ')\n    var val = { value: item.value }\n    if (item.maxAge !== maxAge) {\n      val.maxAge = item.maxAge\n    }\n    if (lc !== naiveLength) {\n      val.length = item.length\n    }\n    if (isStale(this, item)) {\n      val.stale = true\n    }\n\n    val = util.inspect(val, opts).split('\\n').join('\\n  ')\n    str += key + ' => ' + val\n  })\n\n  if (didFirst || extras) {\n    str += '\\n'\n  }\n  str += '}'\n\n  return str\n}\n\nLRUCache.prototype.set = function (key, value, maxAge) {\n  maxAge = maxAge || this[MAX_AGE]\n\n  var now = maxAge ? Date.now() : 0\n  var len = this[LENGTH_CALCULATOR](value, key)\n\n  if (this[CACHE].has(key)) {\n    if (len > this[MAX]) {\n      del(this, this[CACHE].get(key))\n      return false\n    }\n\n    var node = this[CACHE].get(key)\n    var item = node.value\n\n    // dispose of the old one before overwriting\n    // split out into 2 ifs for better coverage tracking\n    if (this[DISPOSE]) {\n      if (!this[NO_DISPOSE_ON_SET]) {\n        this[DISPOSE](key, item.value)\n      }\n    }\n\n    item.now = now\n    item.maxAge = maxAge\n    item.value = value\n    this[LENGTH] += len - item.length\n    item.length = len\n    this.get(key)\n    trim(this)\n    return true\n  }\n\n  var hit = new Entry(key, value, len, now, maxAge)\n\n  // oversized objects fall out of cache automatically.\n  if (hit.length > this[MAX]) {\n    if (this[DISPOSE]) {\n      this[DISPOSE](key, value)\n    }\n    return false\n  }\n\n  this[LENGTH] += hit.length\n  this[LRU_LIST].unshift(hit)\n  this[CACHE].set(key, this[LRU_LIST].head)\n  trim(this)\n  return true\n}\n\nLRUCache.prototype.has = function (key) {\n  if (!this[CACHE].has(key)) return false\n  var hit = this[CACHE].get(key).value\n  if (isStale(this, hit)) {\n    return false\n  }\n  return true\n}\n\nLRUCache.prototype.get = function (key) {\n  return get(this, key, true)\n}\n\nLRUCache.prototype.peek = function (key) {\n  return get(this, key, false)\n}\n\nLRUCache.prototype.pop = function () {\n  var node = this[LRU_LIST].tail\n  if (!node) return null\n  del(this, node)\n  return node.value\n}\n\nLRUCache.prototype.del = function (key) {\n  del(this, this[CACHE].get(key))\n}\n\nLRUCache.prototype.load = function (arr) {\n  // reset the cache\n  this.reset()\n\n  var now = Date.now()\n  // A previous serialized cache has the most recent items first\n  for (var l = arr.length - 1; l >= 0; l--) {\n    var hit = arr[l]\n    var expiresAt = hit.e || 0\n    if (expiresAt === 0) {\n      // the item was created without expiration in a non aged cache\n      this.set(hit.k, hit.v)\n    } else {\n      var maxAge = expiresAt - now\n      // dont add already expired items\n      if (maxAge > 0) {\n        this.set(hit.k, hit.v, maxAge)\n      }\n    }\n  }\n}\n\nLRUCache.prototype.prune = function () {\n  var self = this\n  this[CACHE].forEach(function (value, key) {\n    get(self, key, false)\n  })\n}\n\nfunction get (self, key, doUse) {\n  var node = self[CACHE].get(key)\n  if (node) {\n    var hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE]) hit = undefined\n    } else {\n      if (doUse) {\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    if (hit) hit = hit.value\n  }\n  return hit\n}\n\nfunction isStale (self, hit) {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE])) {\n    return false\n  }\n  var stale = false\n  var diff = Date.now() - hit.now\n  if (hit.maxAge) {\n    stale = diff > hit.maxAge\n  } else {\n    stale = self[MAX_AGE] && (diff > self[MAX_AGE])\n  }\n  return stale\n}\n\nfunction trim (self) {\n  if (self[LENGTH] > self[MAX]) {\n    for (var walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nfunction del (self, node) {\n  if (node) {\n    var hit = node.value\n    if (self[DISPOSE]) {\n      self[DISPOSE](hit.key, hit.value)\n    }\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, length, now, maxAge) {\n  this.key = key\n  this.value = value\n  this.length = length\n  this.now = now\n  this.maxAge = maxAge || 0\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (process.env.npm_package_name === 'pseudomap' &&\n    process.env.npm_lifecycle_script === 'test')\n  process.env.TEST_PSEUDOMAP = 'true'\n\nif (typeof Map === 'function' && !process.env.TEST_PSEUDOMAP) {\n  module.exports = Map\n} else {\n  module.exports = require('./pseudomap')\n}\n","var hasOwnProperty = Object.prototype.hasOwnProperty\n\nmodule.exports = PseudoMap\n\nfunction PseudoMap (set) {\n  if (!(this instanceof PseudoMap)) // whyyyyyyy\n    throw new TypeError(\"Constructor PseudoMap requires 'new'\")\n\n  this.clear()\n\n  if (set) {\n    if ((set instanceof PseudoMap) ||\n        (typeof Map === 'function' && set instanceof Map))\n      set.forEach(function (value, key) {\n        this.set(key, value)\n      }, this)\n    else if (Array.isArray(set))\n      set.forEach(function (kv) {\n        this.set(kv[0], kv[1])\n      }, this)\n    else\n      throw new TypeError('invalid argument')\n  }\n}\n\nPseudoMap.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  Object.keys(this._data).forEach(function (k) {\n    if (k !== 'size')\n      fn.call(thisp, this._data[k].value, this._data[k].key)\n  }, this)\n}\n\nPseudoMap.prototype.has = function (k) {\n  return !!find(this._data, k)\n}\n\nPseudoMap.prototype.get = function (k) {\n  var res = find(this._data, k)\n  return res && res.value\n}\n\nPseudoMap.prototype.set = function (k, v) {\n  set(this._data, k, v)\n}\n\nPseudoMap.prototype.delete = function (k) {\n  var res = find(this._data, k)\n  if (res) {\n    delete this._data[res._index]\n    this._data.size--\n  }\n}\n\nPseudoMap.prototype.clear = function () {\n  var data = Object.create(null)\n  data.size = 0\n\n  Object.defineProperty(this, '_data', {\n    value: data,\n    enumerable: false,\n    configurable: true,\n    writable: false\n  })\n}\n\nObject.defineProperty(PseudoMap.prototype, 'size', {\n  get: function () {\n    return this._data.size\n  },\n  set: function (n) {},\n  enumerable: true,\n  configurable: true\n})\n\nPseudoMap.prototype.values =\nPseudoMap.prototype.keys =\nPseudoMap.prototype.entries = function () {\n  throw new Error('iterators are not implemented in this version')\n}\n\n// Either identical, or both NaN\nfunction same (a, b) {\n  return a === b || a !== a && b !== b\n}\n\nfunction Entry (k, v, i) {\n  this.key = k\n  this.value = v\n  this._index = i\n}\n\nfunction find (data, k) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k))\n      return data[key]\n  }\n}\n\nfunction set (data, k, v) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k)) {\n      data[key].value = v\n      return\n    }\n  }\n  data.size++\n  data[key] = new Entry(k, v, key)\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","module.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {CurrentDispatcherRef} from './types';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(name: string): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  return '\\n' + prefix + name;\n}\n\nexport function describeDebugInfoFrame(name: string, env: ?string): string {\n  return describeBuiltInComponentFrame(name + (env ? ' (' + env + ')' : ''));\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap<$FlowFixMe, string>();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.H;\n  currentDispatcherRef.H = null;\n  disableLogs();\n\n  // NOTE: keep in sync with the implementation in ReactComponentStackFrame\n\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n  const RunInRootFrame = {\n    DetermineComponentFrameRoot(): [?string, ?string] {\n      let control;\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          const Fake = function () {\n            throw Error();\n          };\n          // $FlowFixMe[prop-missing]\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            },\n          });\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            }\n            // $FlowFixMe[prop-missing] found when upgrading Flow\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          }\n          // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n          const maybePromise = fn();\n\n          // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(() => {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n      return [null, null];\n    },\n  };\n  // $FlowFixMe[prop-missing]\n  RunInRootFrame.DetermineComponentFrameRoot.displayName =\n    'DetermineComponentFrameRoot';\n  const namePropDescriptor = Object.getOwnPropertyDescriptor(\n    RunInRootFrame.DetermineComponentFrameRoot,\n    'name',\n  );\n  // Before ES6, the `name` property was not configurable.\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      // Configurable properties can be updated even if its writable descriptor\n      // is set to `false`.\n      // $FlowFixMe[cannot-write]\n      'name',\n      {value: 'DetermineComponentFrameRoot'},\n    );\n  }\n\n  try {\n    const [sampleStack, controlStack] =\n      RunInRootFrame.DetermineComponentFrameRoot();\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sampleStack.split('\\n');\n      const controlLines = controlStack.split('\\n');\n      let s = 0;\n      let c = 0;\n      while (\n        s < sampleLines.length &&\n        !sampleLines[s].includes('DetermineComponentFrameRoot')\n      ) {\n        s++;\n      }\n      while (\n        c < controlLines.length &&\n        !controlLines[c].includes('DetermineComponentFrameRoot')\n      ) {\n        c++;\n      }\n      // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                let frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n\n                // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n                if (fn.displayName && frame.includes('<anonymous>')) {\n                  frame = frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.H = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from './types';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n  describeDebugInfoFrame,\n} from './DevToolsComponentStackFrame';\n\nexport function describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n  } = workTagMap;\n\n  switch (workInProgress.tag) {\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type);\n    case LazyComponent:\n      return describeBuiltInComponentFrame('Lazy');\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense');\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList');\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node: Fiber = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      // Add any Server Component stack frames in reverse order.\n      const debugInfo = node._debugInfo;\n      if (debugInfo) {\n        for (let i = debugInfo.length - 1; i >= 0; i--) {\n          const entry = debugInfo[i];\n          if (typeof entry.name === 'string') {\n            info += describeDebugInfoFrame(entry.name, entry.env);\n          }\n        }\n      }\n      // $FlowFixMe[incompatible-type] we bail out when we get a null\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n\nexport function supportsNativeConsoleTasks(fiber: Fiber): boolean {\n  // If this Fiber supports native console.createTask then we are already running\n  // inside a native async stack trace if it's active - meaning the DevTools is open.\n  // Ideally we'd detect if this task was created while the DevTools was open or not.\n  return !!fiber._debugTask;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  LegacyDispatcherRef,\n  CurrentDispatcherRef,\n  ReactRenderer,\n  WorkTagMap,\n  ConsolePatchSettings,\n} from './types';\nimport {format, formatWithStyles} from './utils';\n\nimport {getInternalReactConstants, getDispatcherRef} from './renderer';\nimport {\n  getStackByFiberInDevAndProd,\n  supportsNativeConsoleTasks,\n} from './DevToolsFiberComponentStack';\nimport {consoleManagedByDevToolsDuringStrictMode} from 'react-devtools-feature-flags';\nimport {castBool, castBrowserTheme} from '../utils';\n\nconst OVERRIDE_CONSOLE_METHODS = ['error', 'trace', 'warn'];\nconst DIMMED_NODE_CONSOLE_COLOR = '\\x1b[2m%s\\x1b[0m';\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nexport function isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\nconst STYLE_DIRECTIVE_REGEX = /^%c/;\n\n// This function tells whether or not the arguments for a console\n// method has been overridden by the patchForStrictMode function.\n// If it has we'll need to do some special formatting of the arguments\n// so the console color stays consistent\nfunction isStrictModeOverride(args: Array<string>, method: string): boolean {\n  return (\n    args.length >= 2 &&\n    STYLE_DIRECTIVE_REGEX.test(args[0]) &&\n    args[1] === `color: ${getConsoleColor(method) || ''}`\n  );\n}\n\nfunction getConsoleColor(method: string): ?string {\n  switch (method) {\n    case 'warn':\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n        : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n    case 'error':\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n        : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n    case 'log':\n    default:\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n        : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n  }\n}\ntype OnErrorOrWarning = (\n  fiber: Fiber,\n  type: 'error' | 'warn',\n  args: Array<any>,\n) => void;\n\nconst injectedRenderers: Map<\n  ReactRenderer,\n  {\n    currentDispatcherRef: LegacyDispatcherRef | CurrentDispatcherRef,\n    getCurrentFiber: () => Fiber | null,\n    onErrorOrWarning: ?OnErrorOrWarning,\n    workTagMap: WorkTagMap,\n  },\n> = new Map();\n\nlet targetConsole: Object = console;\nlet targetConsoleMethods: {[string]: $FlowFixMe} = {};\nfor (const method in console) {\n  targetConsoleMethods[method] = console[method];\n}\n\nlet unpatchFn: null | (() => void) = null;\n\nlet isNode = false;\ntry {\n  isNode = this === global;\n} catch (error) {}\n\n// Enables e.g. Jest tests to inject a mock console object.\nexport function dangerous_setTargetConsoleForTesting(\n  targetConsoleForTesting: Object,\n): void {\n  targetConsole = targetConsoleForTesting;\n\n  targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n  for (const method in targetConsole) {\n    targetConsoleMethods[method] = console[method];\n  }\n}\n\n// v16 renderers should use this method to inject internals necessary to generate a component stack.\n// These internals will be used if the console is patched.\n// Injecting them separately allows the console to easily be patched or un-patched later (at runtime).\nexport function registerRenderer(\n  renderer: ReactRenderer,\n  onErrorOrWarning?: OnErrorOrWarning,\n): void {\n  const {\n    currentDispatcherRef,\n    getCurrentFiber,\n    findFiberByHostInstance,\n    version,\n  } = renderer;\n\n  // Ignore React v15 and older because they don't expose a component stack anyway.\n  if (typeof findFiberByHostInstance !== 'function') {\n    return;\n  }\n\n  // currentDispatcherRef gets injected for v16.8+ to support hooks inspection.\n  // getCurrentFiber gets injected for v16.9+.\n  if (currentDispatcherRef != null && typeof getCurrentFiber === 'function') {\n    const {ReactTypeOfWork} = getInternalReactConstants(version);\n\n    injectedRenderers.set(renderer, {\n      currentDispatcherRef,\n      getCurrentFiber,\n      workTagMap: ReactTypeOfWork,\n      onErrorOrWarning,\n    });\n  }\n}\n\nconst consoleSettingsRef: ConsolePatchSettings = {\n  appendComponentStack: false,\n  breakOnConsoleErrors: false,\n  showInlineWarningsAndErrors: false,\n  hideConsoleLogsInStrictMode: false,\n  browserTheme: 'dark',\n};\n\n// Patches console methods to append component stack for the current fiber.\n// Call unpatch() to remove the injected behavior.\nexport function patch({\n  appendComponentStack,\n  breakOnConsoleErrors,\n  showInlineWarningsAndErrors,\n  hideConsoleLogsInStrictMode,\n  browserTheme,\n}: ConsolePatchSettings): void {\n  // Settings may change after we've patched the console.\n  // Using a shared ref allows the patch function to read the latest values.\n  consoleSettingsRef.appendComponentStack = appendComponentStack;\n  consoleSettingsRef.breakOnConsoleErrors = breakOnConsoleErrors;\n  consoleSettingsRef.showInlineWarningsAndErrors = showInlineWarningsAndErrors;\n  consoleSettingsRef.hideConsoleLogsInStrictMode = hideConsoleLogsInStrictMode;\n  consoleSettingsRef.browserTheme = browserTheme;\n\n  if (\n    appendComponentStack ||\n    breakOnConsoleErrors ||\n    showInlineWarningsAndErrors\n  ) {\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    OVERRIDE_CONSOLE_METHODS.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          let shouldAppendWarningStack = false;\n          if (method !== 'log') {\n            if (consoleSettingsRef.appendComponentStack) {\n              const lastArg = args.length > 0 ? args[args.length - 1] : null;\n              const alreadyHasComponentStack =\n                typeof lastArg === 'string' && isStringComponentStack(lastArg);\n\n              // If we are ever called with a string that already has a component stack,\n              // e.g. a React error/warning, don't append a second stack.\n              shouldAppendWarningStack = !alreadyHasComponentStack;\n            }\n          }\n\n          const shouldShowInlineWarningsAndErrors =\n            consoleSettingsRef.showInlineWarningsAndErrors &&\n            (method === 'error' || method === 'warn');\n\n          // Search for the first renderer that has a current Fiber.\n          // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n          // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n          for (const renderer of injectedRenderers.values()) {\n            const currentDispatcherRef = getDispatcherRef(renderer);\n            const {getCurrentFiber, onErrorOrWarning, workTagMap} = renderer;\n            const current: ?Fiber = getCurrentFiber();\n            if (current != null) {\n              try {\n                if (shouldShowInlineWarningsAndErrors) {\n                  // patch() is called by two places: (1) the hook and (2) the renderer backend.\n                  // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n                  if (typeof onErrorOrWarning === 'function') {\n                    onErrorOrWarning(\n                      current,\n                      ((method: any): 'error' | 'warn'),\n                      // Copy args before we mutate them (e.g. adding the component stack)\n                      args.slice(),\n                    );\n                  }\n                }\n\n                if (\n                  shouldAppendWarningStack &&\n                  !supportsNativeConsoleTasks(current)\n                ) {\n                  const componentStack = getStackByFiberInDevAndProd(\n                    workTagMap,\n                    current,\n                    (currentDispatcherRef: any),\n                  );\n                  if (componentStack !== '') {\n                    if (isStrictModeOverride(args, method)) {\n                      args[0] = `${args[0]} %s`;\n                      args.push(componentStack);\n                    } else {\n                      args.push(componentStack);\n                    }\n                  }\n                }\n              } catch (error) {\n                // Don't let a DevTools or React internal error interfere with logging.\n                setTimeout(() => {\n                  throw error;\n                }, 0);\n              } finally {\n                break;\n              }\n            }\n          }\n\n          if (consoleSettingsRef.breakOnConsoleErrors) {\n            // --- Welcome to debugging with React DevTools ---\n            // This debugger statement means that you've enabled the \"break on warnings\" feature.\n            // Use the browser's Call Stack panel to step out of this override function-\n            // to where the original warning or error was logged.\n            // eslint-disable-next-line no-debugger\n            debugger;\n          }\n\n          originalMethod(...args);\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_ORIGINAL_METHOD__ = originalMethod;\n        originalMethod.__REACT_DEVTOOLS_OVERRIDE_METHOD__ = overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  } else {\n    unpatch();\n  }\n}\n\n// Removed component stack patch from console methods.\nexport function unpatch(): void {\n  if (unpatchFn !== null) {\n    unpatchFn();\n    unpatchFn = null;\n  }\n}\n\nlet unpatchForStrictModeFn: null | (() => void) = null;\n\n// NOTE: KEEP IN SYNC with src/hook.js:patchConsoleForInitialCommitInStrictMode\nexport function patchForStrictMode() {\n  if (consoleManagedByDevToolsDuringStrictMode) {\n    const overrideConsoleMethods = [\n      'error',\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n      'trace',\n      'warn',\n    ];\n\n    if (unpatchForStrictModeFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchForStrictModeFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    overrideConsoleMethods.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          if (!consoleSettingsRef.hideConsoleLogsInStrictMode) {\n            // Dim the text color of the double logs if we're not\n            // hiding them.\n            if (isNode) {\n              originalMethod(DIMMED_NODE_CONSOLE_COLOR, format(...args));\n            } else {\n              const color = getConsoleColor(method);\n              if (color) {\n                originalMethod(...formatWithStyles(args, `color: ${color}`));\n              } else {\n                throw Error('Console color is not defined');\n              }\n            }\n          }\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n          originalMethod;\n        originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n          overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  }\n}\n\n// NOTE: KEEP IN SYNC with src/hook.js:unpatchConsoleForInitialCommitInStrictMode\nexport function unpatchForStrictMode(): void {\n  if (consoleManagedByDevToolsDuringStrictMode) {\n    if (unpatchForStrictModeFn !== null) {\n      unpatchForStrictModeFn();\n      unpatchForStrictModeFn = null;\n    }\n  }\n}\n\nexport function patchConsoleUsingWindowValues() {\n  const appendComponentStack =\n    castBool(window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__) ?? true;\n  const breakOnConsoleErrors =\n    castBool(window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__) ?? false;\n  const showInlineWarningsAndErrors =\n    castBool(window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__) ?? true;\n  const hideConsoleLogsInStrictMode =\n    castBool(window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__) ??\n    false;\n  const browserTheme =\n    castBrowserTheme(window.__REACT_DEVTOOLS_BROWSER_THEME__) ?? 'dark';\n\n  patch({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  });\n}\n\n// After receiving cached console patch settings from React Native, we set them on window.\n// When the console is initially patched (in renderer.js and hook.js), these values are read.\n// The browser extension (etc.) sets these values on window, but through another method.\nexport function writeConsolePatchSettingsToWindow(\n  settings: ConsolePatchSettings,\n): void {\n  window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ =\n    settings.appendComponentStack;\n  window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ =\n    settings.breakOnConsoleErrors;\n  window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n    settings.showInlineWarningsAndErrors;\n  window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n    settings.hideConsoleLogsInStrictMode;\n  window.__REACT_DEVTOOLS_BROWSER_THEME__ = settings.browserTheme;\n}\n\nexport function installConsoleFunctionsToWindow(): void {\n  window.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__ = {\n    patchConsoleUsingWindowValues,\n    registerRendererWithConsole: registerRenderer,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const SERVER_CONTEXT_SYMBOL_STRING = 'Symbol(react.server_context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.transitional.element)';\nexport const LEGACY_ELEMENT_NUMBER = 0xeac7;\nexport const LEGACY_ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const CONSUMER_SYMBOL_STRING = 'Symbol(react.consumer)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n\nexport const SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING =\n  'Symbol(react.server_context.defaultValue)';\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  // $FlowFixMe[method-unbinding]\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default hasOwnProperty;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {StyleXPlugin} from 'react-devtools-shared/src/frontend/types';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nconst cachedStyleNameToValueMap: Map<string, string> = new Map();\n\nexport function getStyleXData(data: any): StyleXPlugin {\n  const sources = new Set<string>();\n  const resolvedStyles = {};\n\n  crawlData(data, sources, resolvedStyles);\n\n  return {\n    sources: Array.from(sources).sort(),\n    resolvedStyles,\n  };\n}\n\nexport function crawlData(\n  data: any,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  if (data == null) {\n    return;\n  }\n\n  if (isArray(data)) {\n    data.forEach(entry => {\n      if (entry == null) {\n        return;\n      }\n\n      if (isArray(entry)) {\n        crawlData(entry, sources, resolvedStyles);\n      } else {\n        crawlObjectProperties(entry, sources, resolvedStyles);\n      }\n    });\n  } else {\n    crawlObjectProperties(data, sources, resolvedStyles);\n  }\n\n  resolvedStyles = Object.fromEntries<string, any>(\n    Object.entries(resolvedStyles).sort(),\n  );\n}\n\nfunction crawlObjectProperties(\n  entry: Object,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  const keys = Object.keys(entry);\n  keys.forEach(key => {\n    const value = entry[key];\n    if (typeof value === 'string') {\n      if (key === value) {\n        // Special case; this key is the name of the style's source/file/module.\n        sources.add(key);\n      } else {\n        const propertyValue = getPropertyValueForStyleName(value);\n        if (propertyValue != null) {\n          resolvedStyles[key] = propertyValue;\n        }\n      }\n    } else {\n      const nestedStyle = {};\n      resolvedStyles[key] = nestedStyle;\n      crawlData([value], sources, nestedStyle);\n    }\n  });\n}\n\nfunction getPropertyValueForStyleName(styleName: string): string | null {\n  if (cachedStyleNameToValueMap.has(styleName)) {\n    return ((cachedStyleNameToValueMap.get(styleName): any): string);\n  }\n\n  for (\n    let styleSheetIndex = 0;\n    styleSheetIndex < document.styleSheets.length;\n    styleSheetIndex++\n  ) {\n    const styleSheet = ((document.styleSheets[\n      styleSheetIndex\n    ]: any): CSSStyleSheet);\n    let rules: CSSRuleList | null = null;\n    // this might throw if CORS rules are enforced https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    try {\n      rules = styleSheet.cssRules;\n    } catch (_e) {\n      continue;\n    }\n\n    for (let ruleIndex = 0; ruleIndex < rules.length; ruleIndex++) {\n      if (!(rules[ruleIndex] instanceof CSSStyleRule)) {\n        continue;\n      }\n      const rule = ((rules[ruleIndex]: any): CSSStyleRule);\n      const {cssText, selectorText, style} = rule;\n\n      if (selectorText != null) {\n        if (selectorText.startsWith(`.${styleName}`)) {\n          const match = cssText.match(/{ *([a-z\\-]+):/);\n          if (match !== null) {\n            const property = match[1];\n            const value = style.getPropertyValue(property);\n\n            cachedStyleNameToValueMap.set(styleName, value);\n\n            return value;\n          } else {\n            return null;\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n","export const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any, ...} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': 'rgba(0, 0, 0, 0.1)',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-timeline-internal-module': '#d1d1d1',\n    '--color-timeline-internal-module-hover': '#c9c9c9',\n    '--color-timeline-internal-module-text': '#444',\n    '--color-timeline-native-event': '#ccc',\n    '--color-timeline-native-event-hover': '#aaa',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#f0e7d1',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#e3ba52',\n    '--color-timeline-priority-background': '#f6f6f6',\n    '--color-timeline-priority-border': '#eeeeee',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#d3e5f6',\n    '--color-timeline-react-idle-hover': '#c3d9ef',\n    '--color-timeline-react-render': '#9fc3f3',\n    '--color-timeline-react-render-hover': '#83afe9',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#c88ff0',\n    '--color-timeline-react-commit-hover': '#b281d6',\n    '--color-timeline-react-commit-text': '#3e2c4a',\n    '--color-timeline-react-layout-effects': '#b281d6',\n    '--color-timeline-react-layout-effects-hover': '#9d71bd',\n    '--color-timeline-react-layout-effects-text': '#3e2c4a',\n    '--color-timeline-react-passive-effects': '#b281d6',\n    '--color-timeline-react-passive-effects-hover': '#9d71bd',\n    '--color-timeline-react-passive-effects-text': '#3e2c4a',\n    '--color-timeline-react-schedule': '#9fc3f3',\n    '--color-timeline-react-schedule-hover': '#2683E2',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#ffdf37',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#ee1638',\n    '--color-timeline-thrown-error-hover': '#da1030',\n    '--color-timeline-text-color': '#000000',\n    '--color-timeline-text-dim-color': '#ccc',\n    '--color-timeline-react-work-border': '#eeeeee',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': '#5e6167',\n    '--color-component-badge-background-inverted': '#46494e',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.85)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-timeline-internal-module': '#303542',\n    '--color-timeline-internal-module-hover': '#363b4a',\n    '--color-timeline-internal-module-text': '#7f8899',\n    '--color-timeline-native-event': '#b2b2b2',\n    '--color-timeline-native-event-hover': '#949494',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#e3dbc5',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#d6af4d',\n    '--color-timeline-priority-background': '#1d2129',\n    '--color-timeline-priority-border': '#282c34',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#3d485b',\n    '--color-timeline-react-idle-hover': '#465269',\n    '--color-timeline-react-render': '#2683E2',\n    '--color-timeline-react-render-hover': '#1a76d4',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#731fad',\n    '--color-timeline-react-commit-hover': '#611b94',\n    '--color-timeline-react-commit-text': '#e5c1ff',\n    '--color-timeline-react-layout-effects': '#611b94',\n    '--color-timeline-react-layout-effects-hover': '#51167a',\n    '--color-timeline-react-layout-effects-text': '#e5c1ff',\n    '--color-timeline-react-passive-effects': '#611b94',\n    '--color-timeline-react-passive-effects-hover': '#51167a',\n    '--color-timeline-react-passive-effects-text': '#e5c1ff',\n    '--color-timeline-react-schedule': '#2683E2',\n    '--color-timeline-react-schedule-hover': '#1a76d4',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#e4c00f',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#fb3655',\n    '--color-timeline-thrown-error-hover': '#f82042',\n    '--color-timeline-text-color': '#282c34',\n    '--color-timeline-text-dim-color': '#555b66',\n    '--color-timeline-react-work-border': '#3d424a',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport {\n  COMFORTABLE_LINE_HEIGHT,\n  COMPACT_LINE_HEIGHT,\n} from 'react-devtools-shared/src/devtools/constants.js';\n\nexport const REACT_TOTAL_NUM_LANES = 31;\n\n// Increment this number any time a backwards breaking change is made to the profiler metadata.\nexport const SCHEDULING_PROFILER_VERSION = 1;\n\nexport const SNAPSHOT_MAX_HEIGHT = 60;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Lane,\n  Lanes,\n  DevToolsProfilingHooks,\n  WorkTagMap,\n  CurrentDispatcherRef,\n} from 'react-devtools-shared/src/backend/types';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {\n  BatchUID,\n  InternalModuleSourceToRanges,\n  LaneToLabelMap,\n  ReactComponentMeasure,\n  ReactLane,\n  ReactMeasure,\n  ReactMeasureType,\n  ReactScheduleStateUpdateEvent,\n  SchedulingEvent,\n  SuspenseEvent,\n  TimelineData,\n} from 'react-devtools-timeline/src/types';\n\nimport isArray from 'shared/isArray';\nimport {\n  REACT_TOTAL_NUM_LANES,\n  SCHEDULING_PROFILER_VERSION,\n} from 'react-devtools-timeline/src/constants';\nimport {describeFiber} from './DevToolsFiberComponentStack';\n\n// Add padding to the start/stop time of the profile.\n// This makes the UI nicer to use.\nconst TIME_OFFSET = 10;\n\nlet performanceTarget: Performance | null = null;\n\n// If performance exists and supports the subset of the User Timing API that we require.\nlet supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.mark === 'function' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.clearMarks === 'function';\n\nlet supportsUserTimingV3 = false;\nif (supportsUserTiming) {\n  const CHECK_V3_MARK = '__v3';\n  const markOptions: {\n    detail?: mixed,\n    startTime?: number,\n  } = {};\n  Object.defineProperty(markOptions, 'startTime', {\n    get: function () {\n      supportsUserTimingV3 = true;\n      return 0;\n    },\n    set: function () {},\n  });\n\n  try {\n    performance.mark(CHECK_V3_MARK, markOptions);\n  } catch (error) {\n    // Ignore\n  } finally {\n    performance.clearMarks(CHECK_V3_MARK);\n  }\n}\n\nif (supportsUserTimingV3) {\n  performanceTarget = performance;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\n// Mocking the Performance Object (and User Timing APIs) for testing is fragile.\n// This API allows tests to directly override the User Timing APIs.\nexport function setPerformanceMock_ONLY_FOR_TESTING(\n  performanceMock: Performance | null,\n) {\n  performanceTarget = performanceMock;\n  supportsUserTiming = performanceMock !== null;\n  supportsUserTimingV3 = performanceMock !== null;\n}\n\nexport type GetTimelineData = () => TimelineData | null;\nexport type ToggleProfilingStatus = (value: boolean) => void;\n\ntype Response = {\n  getTimelineData: GetTimelineData,\n  profilingHooks: DevToolsProfilingHooks,\n  toggleProfilingStatus: ToggleProfilingStatus,\n};\n\nexport function createProfilingHooks({\n  getDisplayNameForFiber,\n  getIsProfiling,\n  getLaneLabelMap,\n  workTagMap,\n  currentDispatcherRef,\n  reactVersion,\n}: {\n  getDisplayNameForFiber: (fiber: Fiber) => string | null,\n  getIsProfiling: () => boolean,\n  getLaneLabelMap?: () => Map<Lane, string> | null,\n  currentDispatcherRef?: CurrentDispatcherRef,\n  workTagMap: WorkTagMap,\n  reactVersion: string,\n}): Response {\n  let currentBatchUID: BatchUID = 0;\n  let currentReactComponentMeasure: ReactComponentMeasure | null = null;\n  let currentReactMeasuresStack: Array<ReactMeasure> = [];\n  let currentTimelineData: TimelineData | null = null;\n  let currentFiberStacks: Map<SchedulingEvent, Array<Fiber>> = new Map();\n  let isProfiling: boolean = false;\n  let nextRenderShouldStartNewBatch: boolean = false;\n\n  function getRelativeTime() {\n    const currentTime = getCurrentTime();\n\n    if (currentTimelineData) {\n      if (currentTimelineData.startTime === 0) {\n        currentTimelineData.startTime = currentTime - TIME_OFFSET;\n      }\n\n      return currentTime - currentTimelineData.startTime;\n    }\n\n    return 0;\n  }\n\n  function getInternalModuleRanges() {\n    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n    if (\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges ===\n        'function'\n    ) {\n      // Ask the DevTools hook for module ranges that may have been reported by the current renderer(s).\n      // Don't do this eagerly like the laneToLabelMap,\n      // because some modules might not yet have registered their boundaries when the renderer is injected.\n      const ranges = __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges();\n\n      // This check would not be required,\n      // except that it's possible for things to override __REACT_DEVTOOLS_GLOBAL_HOOK__.\n      if (isArray(ranges)) {\n        return ranges;\n      }\n    }\n\n    return null;\n  }\n\n  function getTimelineData(): TimelineData | null {\n    return currentTimelineData;\n  }\n\n  function laneToLanesArray(lanes: Lane) {\n    const lanesArray = [];\n\n    let lane = 1;\n    for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n      if (lane & lanes) {\n        lanesArray.push(lane);\n      }\n      lane *= 2;\n    }\n\n    return lanesArray;\n  }\n\n  const laneToLabelMap: LaneToLabelMap | null =\n    typeof getLaneLabelMap === 'function' ? getLaneLabelMap() : null;\n\n  function markMetadata() {\n    markAndClear(`--react-version-${reactVersion}`);\n    markAndClear(`--profiler-version-${SCHEDULING_PROFILER_VERSION}`);\n\n    const ranges = getInternalModuleRanges();\n    if (ranges) {\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        if (isArray(range) && range.length === 2) {\n          const [startStackFrame, stopStackFrame] = ranges[i];\n\n          markAndClear(`--react-internal-module-start-${startStackFrame}`);\n          markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n        }\n      }\n    }\n\n    if (laneToLabelMap != null) {\n      const labels = Array.from(laneToLabelMap.values()).join(',');\n      markAndClear(`--react-lane-labels-${labels}`);\n    }\n  }\n\n  function markAndClear(markName: string) {\n    // This method won't be called unless these functions are defined, so we can skip the extra typeof check.\n    ((performanceTarget: any): Performance).mark(markName);\n    ((performanceTarget: any): Performance).clearMarks(markName);\n  }\n\n  function recordReactMeasureStarted(\n    type: ReactMeasureType,\n    lanes: Lanes,\n  ): void {\n    // Decide what depth thi work should be rendered at, based on what's on the top of the stack.\n    // It's okay to render over top of \"idle\" work but everything else should be on its own row.\n    let depth = 0;\n    if (currentReactMeasuresStack.length > 0) {\n      const top =\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1];\n      depth = top.type === 'render-idle' ? top.depth : top.depth + 1;\n    }\n\n    const lanesArray = laneToLanesArray(lanes);\n\n    const reactMeasure: ReactMeasure = {\n      type,\n      batchUID: currentBatchUID,\n      depth,\n      lanes: lanesArray,\n      timestamp: getRelativeTime(),\n      duration: 0,\n    };\n\n    currentReactMeasuresStack.push(reactMeasure);\n\n    if (currentTimelineData) {\n      const {batchUIDToMeasuresMap, laneToReactMeasureMap} =\n        currentTimelineData;\n\n      let reactMeasures = batchUIDToMeasuresMap.get(currentBatchUID);\n      if (reactMeasures != null) {\n        reactMeasures.push(reactMeasure);\n      } else {\n        batchUIDToMeasuresMap.set(currentBatchUID, [reactMeasure]);\n      }\n\n      lanesArray.forEach(lane => {\n        reactMeasures = laneToReactMeasureMap.get(lane);\n        if (reactMeasures) {\n          reactMeasures.push(reactMeasure);\n        }\n      });\n    }\n  }\n\n  function recordReactMeasureCompleted(type: ReactMeasureType): void {\n    const currentTime = getRelativeTime();\n\n    if (currentReactMeasuresStack.length === 0) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms while currentReactMeasuresStack is empty.',\n        type,\n        currentTime,\n      );\n      // Ignore work \"completion\" user timing mark that doesn't complete anything\n      return;\n    }\n\n    const top = currentReactMeasuresStack.pop();\n    if (top.type !== type) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms before \"%s\" completed.',\n        type,\n        currentTime,\n        top.type,\n      );\n    }\n\n    // $FlowFixMe[cannot-write] This property should not be writable outside of this function.\n    top.duration = currentTime - top.timestamp;\n\n    if (currentTimelineData) {\n      currentTimelineData.duration = getRelativeTime() + TIME_OFFSET;\n    }\n  }\n\n  function markCommitStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('commit', lanes);\n\n      // TODO (timeline) Re-think this approach to \"batching\"; I don't think it works for Suspense or pre-rendering.\n      // This issue applies to the User Timing data also.\n      nextRenderShouldStartNewBatch = true;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--commit-start-${lanes}`);\n\n      // Some metadata only needs to be logged once per session,\n      // but if profiling information is being recorded via the Performance tab,\n      // DevTools has no way of knowing when the recording starts.\n      // Because of that, we log thie type of data periodically (once per commit).\n      markMetadata();\n    }\n  }\n\n  function markCommitStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('commit');\n      recordReactMeasureCompleted('render-idle');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--commit-stop');\n    }\n  }\n\n  function markComponentRenderStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'render',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-render-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentRenderStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-render-stop');\n    }\n  }\n\n  function markComponentLayoutEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-layout-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentLayoutEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-mount-stop');\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-layout-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-unmount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-passive-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentPassiveEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-mount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-passive-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-unmount-stop');\n    }\n  }\n\n  function markComponentErrored(\n    fiber: Fiber,\n    thrownValue: mixed,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      let message = '';\n      if (\n        thrownValue !== null &&\n        typeof thrownValue === 'object' &&\n        typeof thrownValue.message === 'string'\n      ) {\n        message = thrownValue.message;\n      } else if (typeof thrownValue === 'string') {\n        message = thrownValue;\n      }\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.thrownErrors.push({\n            componentName,\n            message,\n            phase,\n            timestamp: getRelativeTime(),\n            type: 'thrown-error',\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--error-${componentName}-${phase}-${message}`);\n      }\n    }\n  }\n\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\n  // $FlowFixMe[incompatible-type]: Flow cannot handle polymorphic WeakMaps\n  const wakeableIDs: WeakMap<Wakeable, number> = new PossiblyWeakMap();\n  let wakeableID: number = 0;\n  function getWakeableID(wakeable: Wakeable): number {\n    if (!wakeableIDs.has(wakeable)) {\n      wakeableIDs.set(wakeable, wakeableID++);\n    }\n    return ((wakeableIDs.get(wakeable): any): number);\n  }\n\n  function markComponentSuspended(\n    fiber: Fiber,\n    wakeable: Wakeable,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const eventType = wakeableIDs.has(wakeable) ? 'resuspend' : 'suspend';\n      const id = getWakeableID(wakeable);\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      // Following the non-standard fn.displayName convention,\n      // frameworks like Relay may also annotate Promises with a displayName,\n      // describing what operation/data the thrown Promise is related to.\n      // When this is available we should pass it along to the Timeline.\n      const displayName = (wakeable: any).displayName || '';\n\n      let suspenseEvent: SuspenseEvent | null = null;\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        suspenseEvent = {\n          componentName,\n          depth: 0,\n          duration: 0,\n          id: `${id}`,\n          phase,\n          promiseName: displayName,\n          resolution: 'unresolved',\n          timestamp: getRelativeTime(),\n          type: 'suspense',\n          warning: null,\n        };\n\n        if (currentTimelineData) {\n          currentTimelineData.suspenseEvents.push(suspenseEvent);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--suspense-${eventType}-${id}-${componentName}-${phase}-${lanes}-${displayName}`,\n        );\n      }\n\n      wakeable.then(\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'resolved';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-resolved-${id}-${componentName}`);\n          }\n        },\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'rejected';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-rejected-${id}-${componentName}`);\n          }\n        },\n      );\n    }\n  }\n\n  function markLayoutEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('layout-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--layout-effects-start-${lanes}`);\n    }\n  }\n\n  function markLayoutEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('layout-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--layout-effects-stop');\n    }\n  }\n\n  function markPassiveEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('passive-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--passive-effects-start-${lanes}`);\n    }\n  }\n\n  function markPassiveEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('passive-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--passive-effects-stop');\n    }\n  }\n\n  function markRenderStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      if (nextRenderShouldStartNewBatch) {\n        nextRenderShouldStartNewBatch = false;\n        currentBatchUID++;\n      }\n\n      // If this is a new batch of work, wrap an \"idle\" measure around it.\n      // Log it before the \"render\" measure to preserve the stack ordering.\n      if (\n        currentReactMeasuresStack.length === 0 ||\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1].type !==\n          'render-idle'\n      ) {\n        recordReactMeasureStarted('render-idle', lanes);\n      }\n\n      recordReactMeasureStarted('render', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--render-start-${lanes}`);\n    }\n  }\n\n  function markRenderYielded(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-yield');\n    }\n  }\n\n  function markRenderStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-stop');\n    }\n  }\n\n  function markRenderScheduled(lane: Lane): void {\n    if (isProfiling) {\n      if (currentTimelineData) {\n        currentTimelineData.schedulingEvents.push({\n          lanes: laneToLanesArray(lane),\n          timestamp: getRelativeTime(),\n          type: 'schedule-render',\n          warning: null,\n        });\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-render-${lane}`);\n    }\n  }\n\n  function markForceUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.schedulingEvents.push({\n            componentName,\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-force-update',\n            warning: null,\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-forced-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function getParentFibers(fiber: Fiber): Array<Fiber> {\n    const parents = [];\n    let parent: null | Fiber = fiber;\n    while (parent !== null) {\n      parents.push(parent);\n      parent = parent.return;\n    }\n    return parents;\n  }\n\n  function markStateUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          const event: ReactScheduleStateUpdateEvent = {\n            componentName,\n            // Store the parent fibers so we can post process\n            // them after we finish profiling\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-state-update',\n            warning: null,\n          };\n          currentFiberStacks.set(event, getParentFibers(fiber));\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          currentTimelineData.schedulingEvents.push(event);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-state-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function toggleProfilingStatus(value: boolean) {\n    if (isProfiling !== value) {\n      isProfiling = value;\n\n      if (isProfiling) {\n        const internalModuleSourceToRanges: InternalModuleSourceToRanges =\n          new Map();\n\n        if (supportsUserTimingV3) {\n          const ranges = getInternalModuleRanges();\n          if (ranges) {\n            for (let i = 0; i < ranges.length; i++) {\n              const range = ranges[i];\n              if (isArray(range) && range.length === 2) {\n                const [startStackFrame, stopStackFrame] = ranges[i];\n\n                markAndClear(\n                  `--react-internal-module-start-${startStackFrame}`,\n                );\n                markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n              }\n            }\n          }\n        }\n\n        const laneToReactMeasureMap = new Map<ReactLane, ReactMeasure[]>();\n        let lane = 1;\n        for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n          laneToReactMeasureMap.set(lane, []);\n          lane *= 2;\n        }\n\n        currentBatchUID = 0;\n        currentReactComponentMeasure = null;\n        currentReactMeasuresStack = [];\n        currentFiberStacks = new Map();\n        currentTimelineData = {\n          // Session wide metadata; only collected once.\n          internalModuleSourceToRanges,\n          laneToLabelMap: laneToLabelMap || new Map(),\n          reactVersion,\n\n          // Data logged by React during profiling session.\n          componentMeasures: [],\n          schedulingEvents: [],\n          suspenseEvents: [],\n          thrownErrors: [],\n\n          // Data inferred based on what React logs.\n          batchUIDToMeasuresMap: new Map(),\n          duration: 0,\n          laneToReactMeasureMap,\n          startTime: 0,\n\n          // Data only available in Chrome profiles.\n          flamechart: [],\n          nativeEvents: [],\n          networkMeasures: [],\n          otherUserTimingMarks: [],\n          snapshots: [],\n          snapshotHeight: 0,\n        };\n        nextRenderShouldStartNewBatch = true;\n      } else {\n        // Postprocess Profile data\n        if (currentTimelineData !== null) {\n          currentTimelineData.schedulingEvents.forEach(event => {\n            if (event.type === 'schedule-state-update') {\n              // TODO(luna): We can optimize this by creating a map of\n              // fiber to component stack instead of generating the stack\n              // for every fiber every time\n              const fiberStack = currentFiberStacks.get(event);\n              if (fiberStack && currentDispatcherRef != null) {\n                event.componentStack = fiberStack.reduce((trace, fiber) => {\n                  return (\n                    trace +\n                    describeFiber(workTagMap, fiber, currentDispatcherRef)\n                  );\n                }, '');\n              }\n            }\n          });\n        }\n\n        // Clear the current fiber stacks so we don't hold onto the fibers\n        // in memory after profiling finishes\n        currentFiberStacks.clear();\n      }\n    }\n  }\n\n  return {\n    getTimelineData,\n    profilingHooks: {\n      markCommitStarted,\n      markCommitStopped,\n      markComponentRenderStarted,\n      markComponentRenderStopped,\n      markComponentPassiveEffectMountStarted,\n      markComponentPassiveEffectMountStopped,\n      markComponentPassiveEffectUnmountStarted,\n      markComponentPassiveEffectUnmountStopped,\n      markComponentLayoutEffectMountStarted,\n      markComponentLayoutEffectMountStopped,\n      markComponentLayoutEffectUnmountStarted,\n      markComponentLayoutEffectUnmountStopped,\n      markComponentErrored,\n      markComponentSuspended,\n      markLayoutEffectsStarted,\n      markLayoutEffectsStopped,\n      markPassiveEffectsStarted,\n      markPassiveEffectsStopped,\n      markRenderStarted,\n      markRenderYielded,\n      markRenderStopped,\n      markRenderScheduled,\n      markForceUpdateScheduled,\n      markStateUpdateScheduled,\n    },\n    toggleProfilingStatus,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n  ElementTypeTracingMarker,\n  StrictMode,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getWrappedDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n  filterOutLocationComponentFilters,\n} from 'react-devtools-shared/src/utils';\nimport {sessionStorageGetItem} from 'react-devtools-shared/src/storage';\nimport {\n  gt,\n  gte,\n  parseSourceFromComponentStack,\n  serializeToString,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from './utils';\nimport {\n  __DEBUG__,\n  PROFILING_FLAG_BASIC_SUPPORT,\n  PROFILING_FLAG_TIMELINE_SUPPORT,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  patchConsoleUsingWindowValues,\n  registerRenderer as registerRendererWithConsole,\n  patchForStrictMode as patchConsoleForStrictMode,\n  unpatchForStrictMode as unpatchConsoleForStrictMode,\n} from './console';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  CONSUMER_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  REACT_MEMO_CACHE_SENTINEL,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SERVER_CONTEXT_SYMBOL_STRING,\n} from './ReactSymbols';\nimport {format} from './utils';\nimport {enableStyleXFeatures} from 'react-devtools-feature-flags';\nimport is from 'shared/objectIs';\nimport hasOwnProperty from 'shared/hasOwnProperty';\nimport {getStyleXData} from './StyleX/utils';\nimport {createProfilingHooks} from './profilingHooks';\n\nimport type {GetTimelineData, ToggleProfilingStatus} from './profilingHooks';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  WorkTagMap,\n  CurrentDispatcherRef,\n  LegacyDispatcherRef,\n} from './types';\nimport type {\n  ComponentFilter,\n  ElementType,\n  Plugins,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport {getStackByFiberInDevAndProd} from './DevToolsFiberComponentStack';\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => symbol | number;\n\ntype ReactPriorityLevelsType = {\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n};\n\nexport function getDispatcherRef(renderer: {\n  +currentDispatcherRef?: LegacyDispatcherRef | CurrentDispatcherRef,\n  ...\n}): void | CurrentDispatcherRef {\n  if (renderer.currentDispatcherRef === undefined) {\n    return undefined;\n  }\n  const injectedRef = renderer.currentDispatcherRef;\n  if (\n    typeof injectedRef.H === 'undefined' &&\n    typeof injectedRef.current !== 'undefined'\n  ) {\n    // We got a legacy dispatcher injected, let's create a wrapper proxy to translate.\n    return {\n      get H() {\n        return (injectedRef: any).current;\n      },\n      set H(value) {\n        (injectedRef: any).current = value;\n      },\n    };\n  }\n  return (injectedRef: any);\n}\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(version: string): {\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfWork: WorkTagMap,\n  StrictModeBits: number,\n} {\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let StrictModeBits = 0;\n  if (gte(version, '18.0.0-alpha')) {\n    // 18+\n    StrictModeBits = 0b011000;\n  } else if (gte(version, '16.9.0')) {\n    // 16.9 - 17\n    StrictModeBits = 0b1;\n  } else if (gte(version, '16.3.0')) {\n    // 16.3 - 16.8\n    StrictModeBits = 0b10;\n  }\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: 26, // In reality, 18.2+. But doesn't hurt to include it here\n      HostSingleton: 27, // Same as above\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: 28,\n      IndeterminateComponent: 2, // removed in 19.0.0\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: 25, // Experimental - This is technically in 18 but we don't\n      // want to fork again so we're adding it here instead\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): symbol | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    return typeof symbolOrNumber === 'symbol'\n      ? // $FlowFixMe[incompatible-return] `toString()` doesn't match the type signature?\n        symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any): $FlowFixMe {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(\n    fiber: Fiber,\n    shouldSkipForgetCheck: boolean = false,\n  ): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n    if (\n      !shouldSkipForgetCheck &&\n      // $FlowFixMe[incompatible-type] fiber.updateQueue is mixed\n      (fiber.updateQueue?.memoCache != null ||\n        fiber.memoizedState?.memoizedState?.[REACT_MEMO_CACHE_SENTINEL])\n    ) {\n      const displayNameWithoutForgetWrapper = getDisplayNameForFiber(\n        fiber,\n        true,\n      );\n      if (displayNameWithoutForgetWrapper == null) {\n        return null;\n      }\n\n      return `Forget(${displayNameWithoutForgetWrapper})`;\n    }\n\n    switch (tag) {\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'ForwardRef',\n          'Anonymous',\n        );\n      case HostRoot:\n        const fiberRoot = fiber.stateNode;\n        if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n          return fiberRoot._debugRootType;\n        }\n        return null;\n      case HostComponent:\n      case HostSingleton:\n      case HostHoistable:\n        return type;\n      case HostPortal:\n      case HostText:\n        return null;\n      case Fragment:\n        return 'Fragment';\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // Display name in React does not use `Memo` as a wrapper but fallback name.\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'Memo',\n          'Anonymous',\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      case TracingMarkerComponent:\n        return 'TracingMarker';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n          case SERVER_CONTEXT_SYMBOL_STRING:\n            if (\n              fiber.type._context === undefined &&\n              fiber.type.Provider === fiber.type\n            ) {\n              // In 19+, Context.Provider === Context, so this is a provider.\n              resolvedContext = fiber.type;\n              return `${resolvedContext.displayName || 'Context'}.Provider`;\n            }\n\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case CONSUMER_SYMBOL_STRING:\n            // 19+\n            resolvedContext = fiber.type._context;\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  };\n}\n\n// Map of one or more Fibers in a pair to their unique id number.\n// We track both Fibers to support Fast Refresh,\n// which may forcefully replace one of the pair as part of hot reloading.\n// In that case it's still important to be able to locate the previous ID during subsequent renders.\nconst fiberToIDMap: Map<Fiber, number> = new Map();\n\n// Map of id to one (arbitrary) Fiber in a pair.\n// This Map is used to e.g. get the display name for a Fiber or schedule an update,\n// operations that should be the same whether the current and work-in-progress Fiber is used.\nconst idToArbitraryFiberMap: Map<number, Fiber> = new Map();\n\nconst fiberToComponentStackMap: WeakMap<Fiber, string> = new WeakMap();\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  } = getInternalReactConstants(version);\n  const {\n    CacheComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    getLaneLabelMap,\n    injectProfilingHooks,\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  let getTimelineData: null | GetTimelineData = null;\n  let toggleProfilingStatus: null | ToggleProfilingStatus = null;\n  if (typeof injectProfilingHooks === 'function') {\n    const response = createProfilingHooks({\n      getDisplayNameForFiber,\n      getIsProfiling: () => isProfiling,\n      getLaneLabelMap,\n      currentDispatcherRef: getDispatcherRef(renderer),\n      workTagMap: ReactTypeOfWork,\n      reactVersion: version,\n    });\n\n    // Pass the Profiling hooks to the reconciler for it to call during render.\n    injectProfilingHooks(response.profilingHooks);\n\n    // Hang onto this toggle so we can notify the external methods of profiling status changes.\n    getTimelineData = response.getTimelineData;\n    toggleProfilingStatus = response.toggleProfilingStatus;\n  }\n\n  // Tracks Fibers with recently changed number of error/warning messages.\n  // These collections store the Fiber rather than the ID,\n  // in order to avoid generating an ID for Fibers that never get mounted\n  // (due to e.g. Suspense or error boundaries).\n  // onErrorOrWarning() adds Fibers and recordPendingErrorsAndWarnings() later clears them.\n  const fibersWithChangedErrorOrWarningCounts: Set<Fiber> = new Set();\n  const pendingFiberToErrorsMap: Map<Fiber, Map<string, number>> = new Map();\n  const pendingFiberToWarningsMap: Map<Fiber, Map<string, number>> = new Map();\n\n  // Mapping of fiber IDs to error/warning messages and counts.\n  const fiberIDToErrorsMap: Map<number, Map<string, number>> = new Map();\n  const fiberIDToWarningsMap: Map<number, Map<string, number>> = new Map();\n\n  function clearErrorsAndWarnings() {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToErrorsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToWarningsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    fiberIDToErrorsMap.clear();\n    fiberIDToWarningsMap.clear();\n\n    flushPendingEvents();\n  }\n\n  function clearMessageCountHelper(\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ) {\n    const fiber = idToArbitraryFiberMap.get(fiberID);\n    if (fiber != null) {\n      // Throw out any pending changes.\n      pendingFiberToErrorsMap.delete(fiber);\n\n      if (fiberIDToMessageCountMap.has(fiberID)) {\n        fiberIDToMessageCountMap.delete(fiberID);\n\n        // If previous flushed counts have changed, schedule an update too.\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        flushPendingEvents();\n\n        updateMostRecentlyInspectedElementIfNecessary(fiberID);\n      } else {\n        fibersWithChangedErrorOrWarningCounts.delete(fiber);\n      }\n    }\n  }\n\n  function clearErrorsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToErrorsMap,\n      fiberIDToErrorsMap,\n    );\n  }\n\n  function clearWarningsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToWarningsMap,\n      fiberIDToWarningsMap,\n    );\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    fiber: Fiber,\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (type === 'error') {\n      const maybeID = getFiberIDUnsafe(fiber);\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (maybeID != null && forceErrorForFiberIDs.get(maybeID) === true) {\n        return;\n      }\n    }\n    const message = format(...args);\n    if (__DEBUG__) {\n      debug('onErrorOrWarning', fiber, null, `${type}: \"${message}\"`);\n    }\n\n    // Mark this Fiber as needed its warning/error count updated during the next flush.\n    fibersWithChangedErrorOrWarningCounts.add(fiber);\n\n    // Track the warning/error for later.\n    const fiberMap =\n      type === 'error' ? pendingFiberToErrorsMap : pendingFiberToWarningsMap;\n    const messageMap = fiberMap.get(fiber);\n    if (messageMap != null) {\n      const count = messageMap.get(message) || 0;\n      messageMap.set(message, count + 1);\n    } else {\n      fiberMap.set(fiber, new Map([[message, 1]]));\n    }\n\n    // Passive effects may trigger errors or warnings too;\n    // In this case, we should wait until the rest of the passive effects have run,\n    // but we shouldn't wait until the next commit because that might be a long time.\n    // This would also cause \"tearing\" between an inspected Component and the tree view.\n    // Then again we don't want to flush too soon because this could be an error during async rendering.\n    // Use a debounce technique to ensure that we'll eventually flush.\n    flushPendingErrorsAndWarningsAfterDelay();\n  }\n\n  // Patching the console enables DevTools to do a few useful things:\n  // * Append component stacks to warnings and error messages\n  // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n  registerRendererWithConsole(renderer, onErrorOrWarning);\n\n  // The renderer interface can't read these preferences directly,\n  // because it is stored in localStorage within the context of the extension.\n  // It relies on the extension to pass the preference through via the global.\n  patchConsoleUsingWindowValues();\n\n  const debug = (\n    name: string,\n    fiber: Fiber,\n    parentFiber: ?Fiber,\n    extraString: string = '',\n  ): void => {\n    if (__DEBUG__) {\n      const displayName =\n        fiber.tag + ':' + (getDisplayNameForFiber(fiber) || 'null');\n\n      const maybeID = getFiberIDUnsafe(fiber) || '<no id>';\n      const parentDisplayName = parentFiber\n        ? parentFiber.tag +\n          ':' +\n          (getDisplayNameForFiber(parentFiber) || 'null')\n        : '';\n      const maybeParentID = parentFiber\n        ? getFiberIDUnsafe(parentFiber) || '<no-id>'\n        : '';\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentFiber ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(new Error().stack.split('\\n').slice(1).join('\\n'));\n      console.groupEnd();\n    }\n  };\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<NativeType> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    const componentFiltersWithoutLocationBasedOnes =\n      filterOutLocationComponentFilters(\n        window.__REACT_DEVTOOLS_COMPONENT_FILTERS__,\n      );\n    applyComponentFilters(componentFiltersWithoutLocationBasedOnes);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn('⚛️ DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      // The TREE_OPERATION_REMOVE_ROOT operation serves two purposes:\n      // 1. It avoids sending unnecessary bridge traffic to clear a root.\n      // 2. It preserves Fiber IDs when remounting (below) which in turn ID to error/warning mapping.\n      pushOperation(TREE_OPERATION_REMOVE_ROOT);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      setRootPseudoKey(currentRootID, root.current);\n      mountFiberRecursively(root.current, null, false, false);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    // Also re-evaluate all error and warning counts given the new filters.\n    reevaluateErrorsAndWarnings();\n    flushPendingEvents();\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {tag, type, key} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      case Fragment:\n        return key === null;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    /* DISABLED: https://github.com/facebook/react/pull/28417\n    if (hideElementsWithPaths.size > 0) {\n      const source = getSourceForFiber(fiber);\n\n      if (source != null) {\n        const {fileName} = source;\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const pathRegExp of hideElementsWithPaths) {\n          if (pathRegExp.test(fileName)) {\n            return true;\n          }\n        }\n      }\n    }\n    */\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n      case HostHoistable:\n      case HostSingleton:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      case TracingMarkerComponent:\n        return ElementTypeTracingMarker;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This is so that we can quickly capture a snapshot of those values if profiling starts.\n  // If we didn't store these values, we'd have to crawl the tree when profiling started,\n  // and use a slow path to find each of the current Fibers.\n  const idToTreeBaseDurationMap: Map<number, number> = new Map();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This map enables us to filter these times by root when sending them to the frontend.\n  const idToRootMap: Map<number, number> = new Map();\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRootID: number = -1;\n\n  // Returns the unique ID for a Fiber or generates and caches a new one if the Fiber hasn't been seen before.\n  // Once this method has been called for a Fiber, untrackFiberID() should always be called later to avoid leaking.\n  function getOrGenerateFiberID(fiber: Fiber): number {\n    let id = null;\n    if (fiberToIDMap.has(fiber)) {\n      id = fiberToIDMap.get(fiber);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        id = fiberToIDMap.get(alternate);\n      }\n    }\n\n    let didGenerateID = false;\n    if (id === null) {\n      didGenerateID = true;\n      id = getUID();\n    }\n\n    // This refinement is for Flow purposes only.\n    const refinedID = ((id: any): number);\n\n    // Make sure we're tracking this Fiber\n    // e.g. if it just mounted or an error was logged during initial render.\n    if (!fiberToIDMap.has(fiber)) {\n      fiberToIDMap.set(fiber, refinedID);\n      idToArbitraryFiberMap.set(refinedID, fiber);\n    }\n\n    // Also make sure we're tracking its alternate,\n    // e.g. in case this is the first update after mount.\n    const {alternate} = fiber;\n    if (alternate !== null) {\n      if (!fiberToIDMap.has(alternate)) {\n        fiberToIDMap.set(alternate, refinedID);\n      }\n    }\n\n    if (__DEBUG__) {\n      if (didGenerateID) {\n        debug(\n          'getOrGenerateFiberID()',\n          fiber,\n          fiber.return,\n          'Generated a new UID',\n        );\n      }\n    }\n\n    return refinedID;\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or throws.\n  function getFiberIDThrows(fiber: Fiber): number {\n    const maybeID = getFiberIDUnsafe(fiber);\n    if (maybeID !== null) {\n      return maybeID;\n    }\n    throw Error(\n      `Could not find ID for Fiber \"${getDisplayNameForFiber(fiber) || ''}\"`,\n    );\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or null if one has not been generated.\n  // Use this method while e.g. logging to avoid over-retaining Fibers.\n  function getFiberIDUnsafe(fiber: Fiber): number | null {\n    if (fiberToIDMap.has(fiber)) {\n      return ((fiberToIDMap.get(fiber): any): number);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        return ((fiberToIDMap.get(alternate): any): number);\n      }\n    }\n    return null;\n  }\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiberID(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('untrackFiberID()', fiber, fiber.return, 'schedule after delay');\n    }\n\n    // Untrack Fibers after a slight delay in order to support a Fast Refresh edge case:\n    // 1. Component type is updated and Fast Refresh schedules an update+remount.\n    // 2. flushPendingErrorsAndWarningsAfterDelay() runs, sees the old Fiber is no longer mounted\n    //    (it's been disconnected by Fast Refresh), and calls untrackFiberID() to clear it from the Map.\n    // 3. React flushes pending passive effects before it runs the next render,\n    //    which logs an error or warning, which causes a new ID to be generated for this Fiber.\n    // 4. DevTools now tries to unmount the old Component with the new ID.\n    //\n    // The underlying problem here is the premature clearing of the Fiber ID,\n    // but DevTools has no way to detect that a given Fiber has been scheduled for Fast Refresh.\n    // (The \"_debugNeedsRemount\" flag won't necessarily be set.)\n    //\n    // The best we can do is to delay untracking by a small amount,\n    // and give React time to process the Fast Refresh delay.\n\n    untrackFibersSet.add(fiber);\n\n    // React may detach alternate pointers during unmount;\n    // Since our untracking code is async, we should explicily track the pending alternate here as well.\n    const alternate = fiber.alternate;\n    if (alternate !== null) {\n      untrackFibersSet.add(alternate);\n    }\n\n    if (untrackFibersTimeoutID === null) {\n      untrackFibersTimeoutID = setTimeout(untrackFibers, 1000);\n    }\n  }\n\n  const untrackFibersSet: Set<Fiber> = new Set();\n  let untrackFibersTimeoutID: TimeoutID | null = null;\n\n  function untrackFibers() {\n    if (untrackFibersTimeoutID !== null) {\n      clearTimeout(untrackFibersTimeoutID);\n      untrackFibersTimeoutID = null;\n    }\n\n    untrackFibersSet.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID !== null) {\n        idToArbitraryFiberMap.delete(fiberID);\n\n        // Also clear any errors/warnings associated with this fiber.\n        clearErrorsForFiberID(fiberID);\n        clearWarningsForFiberID(fiberID);\n      }\n\n      fiberToIDMap.delete(fiber);\n      fiberToComponentStackMap.delete(fiber);\n\n      const {alternate} = fiber;\n      if (alternate !== null) {\n        fiberToIDMap.delete(alternate);\n        fiberToComponentStackMap.delete(alternate);\n      }\n\n      if (forceErrorForFiberIDs.has(fiberID)) {\n        forceErrorForFiberIDs.delete(fiberID);\n        if (forceErrorForFiberIDs.size === 0 && setErrorHandler != null) {\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    });\n    untrackFibersSet.clear();\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (getElementTypeForFiber(nextFiber)) {\n      case ElementTypeClass:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n      case ElementTypeForwardRef:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChangedKeys(nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n\n          // Only traverse the hooks list once, depending on what info we're returning.\n          const indices = getChangedHooksIndices(\n            prevFiber.memoizedState,\n            nextFiber.memoizedState,\n          );\n          data.hooks = indices;\n          data.didHooksChange = indices !== null && indices.length > 0;\n\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function updateContextsForFiber(fiber: Fiber) {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        if (idToContextsMap !== null) {\n          const id = getFiberIDThrows(fiber);\n          const contexts = getContextsForFiber(fiber);\n          if (contexts !== null) {\n            // $FlowFixMe[incompatible-use] found when upgrading Flow\n            idToContextsMap.set(id, contexts);\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Differentiates between a null context value and no context.\n  const NO_CONTEXT = {};\n\n  function getContextsForFiber(fiber: Fiber): [Object, any] | null {\n    let legacyContext = NO_CONTEXT;\n    let modernContext = NO_CONTEXT;\n\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        const instance = fiber.stateNode;\n        if (instance != null) {\n          if (\n            instance.constructor &&\n            instance.constructor.contextType != null\n          ) {\n            modernContext = instance.context;\n          } else {\n            legacyContext = instance.context;\n            if (legacyContext && Object.keys(legacyContext).length === 0) {\n              legacyContext = NO_CONTEXT;\n            }\n          }\n        }\n        return [legacyContext, modernContext];\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        const dependencies = fiber.dependencies;\n        if (dependencies && dependencies.firstContext) {\n          modernContext = dependencies.firstContext;\n        }\n\n        return [legacyContext, modernContext];\n      default:\n        return null;\n    }\n  }\n\n  // Record all contexts at the time profiling is started.\n  // Fibers only store the current context value,\n  // so we need to track them separately in order to determine changed keys.\n  function crawlToInitializeContextsMap(fiber: Fiber) {\n    const id = getFiberIDUnsafe(fiber);\n\n    // Not all Fibers in the subtree have mounted yet.\n    // For example, Offscreen (hidden) or Suspense (suspended) subtrees won't yet be tracked.\n    // We can safely skip these subtrees.\n    if (id !== null) {\n      updateContextsForFiber(fiber);\n\n      let current = fiber.child;\n      while (current !== null) {\n        crawlToInitializeContextsMap(current);\n        current = current.sibling;\n      }\n    }\n  }\n\n  function getContextChangedKeys(fiber: Fiber): null | boolean | Array<string> {\n    if (idToContextsMap !== null) {\n      const id = getFiberIDThrows(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const prevContexts = idToContextsMap.has(id)\n        ? // $FlowFixMe[incompatible-use] found when upgrading Flow\n          idToContextsMap.get(id)\n        : null;\n      const nextContexts = getContextsForFiber(fiber);\n\n      if (prevContexts == null || nextContexts == null) {\n        return null;\n      }\n\n      const [prevLegacyContext, prevModernContext] = prevContexts;\n      const [nextLegacyContext, nextModernContext] = nextContexts;\n\n      switch (getElementTypeForFiber(fiber)) {\n        case ElementTypeClass:\n          if (prevContexts && nextContexts) {\n            if (nextLegacyContext !== NO_CONTEXT) {\n              return getChangedKeys(prevLegacyContext, nextLegacyContext);\n            } else if (nextModernContext !== NO_CONTEXT) {\n              return prevModernContext !== nextModernContext;\n            }\n          }\n          break;\n        case ElementTypeForwardRef:\n        case ElementTypeFunction:\n        case ElementTypeMemo:\n          if (nextModernContext !== NO_CONTEXT) {\n            let prevContext = prevModernContext;\n            let nextContext = nextModernContext;\n\n            while (prevContext && nextContext) {\n              // Note this only works for versions of React that support this key (e.v. 18+)\n              // For older versions, there's no good way to read the current context value after render has completed.\n              // This is because React maintains a stack of context values during render,\n              // but by the time DevTools is called, render has finished and the stack is empty.\n              if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n                return true;\n              }\n\n              prevContext = prevContext.next;\n              nextContext = nextContext.next;\n            }\n\n            return false;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    return null;\n  }\n\n  function isHookThatCanScheduleUpdate(hookObject: any) {\n    const queue = hookObject.queue;\n    if (!queue) {\n      return false;\n    }\n\n    const boundHasOwnProperty = hasOwnProperty.bind(queue);\n\n    // Detect the shape of useState() / useReducer() / useTransition()\n    // using the attributes that are unique to these hooks\n    // but also stable (e.g. not tied to current Lanes implementation)\n    // We don't check for dispatch property, because useTransition doesn't have it\n    if (boundHasOwnProperty('pending')) {\n      return true;\n    }\n\n    // Detect useSyncExternalStore()\n    return (\n      boundHasOwnProperty('value') &&\n      boundHasOwnProperty('getSnapshot') &&\n      typeof queue.getSnapshot === 'function'\n    );\n  }\n\n  function didStatefulHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isHookThatCanScheduleUpdate(prev)) {\n      return prevMemoizedState !== nextMemoizedState;\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const indices = [];\n    let index = 0;\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      while (next !== null) {\n        if (didStatefulHookChange(prev, next)) {\n          indices.push(index);\n        }\n        next = next.next;\n        prev = prev.next;\n        index++;\n      }\n    }\n\n    return indices;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n      case ForwardRef:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // TODO: This flag is a leaked implementation detail. Once we start\n        // releasing DevTools in lockstep with React, we should import a\n        // function from the reconciler instead.\n        const PerformedWork = 0b000000000000000000000000001;\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  type StringTableEntry = {\n    encodedString: Array<number>,\n    id: number,\n  };\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  const pendingSimulatedUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, StringTableEntry> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function shouldBailoutWithPendingOperations() {\n    if (isProfiling) {\n      if (\n        currentCommitProfilingMetadata != null &&\n        currentCommitProfilingMetadata.durations.length > 0\n      ) {\n        return false;\n      }\n    }\n\n    return (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingSimulatedUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    );\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (shouldBailoutWithPendingOperations()) {\n      return;\n    }\n\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  let flushPendingErrorsAndWarningsAfterDelayTimeoutID: null | TimeoutID = null;\n\n  function clearPendingErrorsAndWarningsAfterDelay() {\n    if (flushPendingErrorsAndWarningsAfterDelayTimeoutID !== null) {\n      clearTimeout(flushPendingErrorsAndWarningsAfterDelayTimeoutID);\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n    }\n  }\n\n  function flushPendingErrorsAndWarningsAfterDelay() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    flushPendingErrorsAndWarningsAfterDelayTimeoutID = setTimeout(() => {\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n\n      if (pendingOperations.length > 0) {\n        // On the off chance that something else has pushed pending operations,\n        // we should bail on warnings; it's probably not safe to push midway.\n        return;\n      }\n\n      recordPendingErrorsAndWarnings();\n\n      if (shouldBailoutWithPendingOperations()) {\n        // No warnings or errors to flush; we can bail out early here too.\n        return;\n      }\n\n      // We can create a smaller operations array than flushPendingEvents()\n      // because we only need to flush warning and error counts.\n      // Only a few pieces of fixed information are required up front.\n      const operations: OperationsArray = new Array(\n        3 + pendingOperations.length,\n      );\n      operations[0] = rendererID;\n      operations[1] = currentRootID;\n      operations[2] = 0; // String table size\n      for (let j = 0; j < pendingOperations.length; j++) {\n        operations[3 + j] = pendingOperations[j];\n      }\n\n      flushOrQueueOperations(operations);\n\n      pendingOperations.length = 0;\n    }, 1000);\n  }\n\n  function reevaluateErrorsAndWarnings() {\n    fibersWithChangedErrorOrWarningCounts.clear();\n    fiberIDToErrorsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    fiberIDToWarningsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    recordPendingErrorsAndWarnings();\n  }\n\n  function mergeMapsAndGetCountHelper(\n    fiber: Fiber,\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ): number {\n    let newCount = 0;\n\n    let messageCountMap = fiberIDToMessageCountMap.get(fiberID);\n\n    const pendingMessageCountMap = pendingFiberToMessageCountMap.get(fiber);\n    if (pendingMessageCountMap != null) {\n      if (messageCountMap == null) {\n        messageCountMap = pendingMessageCountMap;\n\n        fiberIDToMessageCountMap.set(fiberID, pendingMessageCountMap);\n      } else {\n        // This Flow refinement should not be necessary and yet...\n        const refinedMessageCountMap = ((messageCountMap: any): Map<\n          string,\n          number,\n        >);\n\n        pendingMessageCountMap.forEach((pendingCount, message) => {\n          const previousCount = refinedMessageCountMap.get(message) || 0;\n          refinedMessageCountMap.set(message, previousCount + pendingCount);\n        });\n      }\n    }\n\n    if (!shouldFilterFiber(fiber)) {\n      if (messageCountMap != null) {\n        messageCountMap.forEach(count => {\n          newCount += count;\n        });\n      }\n    }\n\n    pendingFiberToMessageCountMap.delete(fiber);\n\n    return newCount;\n  }\n\n  function recordPendingErrorsAndWarnings() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    fibersWithChangedErrorOrWarningCounts.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID === null) {\n        // Don't send updates for Fibers that didn't mount due to e.g. Suspense or an error boundary.\n      } else {\n        const errorCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToErrorsMap,\n          fiberIDToErrorsMap,\n        );\n        const warningCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToWarningsMap,\n          fiberIDToWarningsMap,\n        );\n\n        pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n        pushOperation(fiberID);\n        pushOperation(errorCount);\n        pushOperation(warningCount);\n      }\n\n      // Always clean up so that we don't leak.\n      pendingFiberToErrorsMap.delete(fiber);\n      pendingFiberToWarningsMap.delete(fiber);\n    });\n    fibersWithChangedErrorOrWarningCounts.clear();\n  }\n\n  function flushPendingEvents(root: Object): void {\n    // Add any pending errors and warnings to the operations array.\n    // We do this just before flushing, so we can ignore errors for no-longer-mounted Fibers.\n    recordPendingErrorsAndWarnings();\n\n    if (shouldBailoutWithPendingOperations()) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      pendingSimulatedUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = currentRootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((entry, stringKey) => {\n      const encodedString = entry.encodedString;\n\n      // Don't use the string length.\n      // It won't work for multibyte characters (like emoji).\n      const length = encodedString.length;\n\n      operations[i++] = length;\n      for (let j = 0; j < length; j++) {\n        operations[i + j] = encodedString[j];\n      }\n\n      i += length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = pendingRealUnmountedIDs.length - 1; j >= 0; j--) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // Fill in the simulated unmounts (hidden Suspense subtrees) in their order.\n      // (We want children to go before parents.)\n      // They go *after* the real unmounts because we know for sure they won't be\n      // children of already pushed \"real\" IDs. If they were, we wouldn't be able\n      // to discover them during the traversal, as they would have been deleted.\n      for (let j = 0; j < pendingSimulatedUnmountedIDs.length; j++) {\n        operations[i + j] = pendingSimulatedUnmountedIDs[j];\n      }\n      i += pendingSimulatedUnmountedIDs.length;\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingSimulatedUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(string: string | null): number {\n    if (string === null) {\n      return 0;\n    }\n    const existingEntry = pendingStringTable.get(string);\n    if (existingEntry !== undefined) {\n      return existingEntry.id;\n    }\n\n    const id = pendingStringTable.size + 1;\n    const encodedString = utfEncodeString(string);\n\n    pendingStringTable.set(string, {\n      encodedString,\n      id,\n    });\n\n    // The string table total length needs to account both for the string length,\n    // and for the array item that contains the length itself.\n    //\n    // Don't use string length for this table.\n    // It won't work for multibyte characters (like emoji).\n    pendingStringTableLength += encodedString.length + 1;\n\n    return id;\n  }\n\n  function recordMount(fiber: Fiber, parentFiber: Fiber | null) {\n    const isRoot = fiber.tag === HostRoot;\n    const id = getOrGenerateFiberID(fiber);\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiber, parentFiber);\n    }\n\n    const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    // Adding a new field here would require a bridge protocol version bump (a backwads breaking change).\n    // Instead let's re-purpose a pre-existing field to carry more information.\n    let profilingFlags = 0;\n    if (isProfilingSupported) {\n      profilingFlags = PROFILING_FLAG_BASIC_SUPPORT;\n      if (typeof injectProfilingHooks === 'function') {\n        profilingFlags |= PROFILING_FLAG_TIMELINE_SUPPORT;\n      }\n    }\n\n    if (isRoot) {\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation((fiber.mode & StrictModeBits) !== 0 ? 1 : 0);\n      pushOperation(profilingFlags);\n      pushOperation(StrictModeBits !== 0 ? 1 : 0);\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n      const debugOwner = fiber._debugOwner;\n\n      // Ideally we should call getFiberIDThrows() for _debugOwner,\n      // since owners are almost always higher in the tree (and so have already been processed),\n      // but in some (rare) instances reported in open source, a descendant mounts before an owner.\n      // Since this is a DEV only field it's probably okay to also just lazily generate and ID here if needed.\n      // See https://github.com/facebook/react/issues/21445\n      let ownerID: number;\n      if (debugOwner != null) {\n        if (typeof debugOwner.tag === 'number') {\n          ownerID = getOrGenerateFiberID((debugOwner: any));\n        } else {\n          // TODO: Track Server Component Owners.\n          ownerID = 0;\n        }\n      } else {\n        ownerID = 0;\n      }\n      const parentID = parentFiber ? getFiberIDThrows(parentFiber) : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : String(key);\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n\n      // If this subtree has a new mode, let the frontend know.\n      if (\n        (fiber.mode & StrictModeBits) !== 0 &&\n        (((parentFiber: any): Fiber).mode & StrictModeBits) === 0\n      ) {\n        pushOperation(TREE_OPERATION_SET_SUBTREE_MODE);\n        pushOperation(id);\n        pushOperation(StrictMode);\n      }\n    }\n\n    if (isProfilingSupported) {\n      idToRootMap.set(id, currentRootID);\n\n      recordProfilingDurations(fiber);\n    }\n  }\n\n  function recordUnmount(fiber: Fiber, isSimulated: boolean) {\n    if (__DEBUG__) {\n      debug(\n        'recordUnmount()',\n        fiber,\n        null,\n        isSimulated ? 'unmount is simulated' : '',\n      );\n    }\n\n    if (trackedPathMatchFiber !== null) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      if (\n        fiber === trackedPathMatchFiber ||\n        fiber === trackedPathMatchFiber.alternate\n      ) {\n        setTrackedPath(null);\n      }\n    }\n\n    const unsafeID = getFiberIDUnsafe(fiber);\n    if (unsafeID === null) {\n      // If we've never seen this Fiber, it might be inside of a legacy render Suspense fragment (so the store is not even aware of it).\n      // In that case we can just ignore it or it will cause errors later on.\n      // One example of this is a Lazy component that never resolves before being unmounted.\n      //\n      // This also might indicate a Fast Refresh force-remount scenario.\n      //\n      // TODO: This is fragile and can obscure actual bugs.\n      return;\n    }\n\n    // Flow refinement.\n    const id = ((unsafeID: any): number);\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children (pending and simulated) have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else if (!shouldFilterFiber(fiber)) {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      if (isSimulated) {\n        pendingSimulatedUnmountedIDs.push(id);\n      } else {\n        pendingRealUnmountedIDs.push(id);\n      }\n    }\n\n    if (!fiber._debugNeedsRemount) {\n      untrackFiberID(fiber);\n\n      const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        idToRootMap.delete(id);\n        idToTreeBaseDurationMap.delete(id);\n      }\n    }\n  }\n\n  function mountFiberRecursively(\n    firstChild: Fiber,\n    parentFiber: Fiber | null,\n    traverseSiblings: boolean,\n    traceNearestHostComponentUpdate: boolean,\n  ) {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    while (fiber !== null) {\n      // Generate an ID even for filtered Fibers, in case it's needed later (e.g. for Profiling).\n      getOrGenerateFiberID(fiber);\n\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', fiber, parentFiber);\n      }\n\n      // If we have the tree selection from previous reload, try to match this Fiber.\n      // Also remember whether to do the same for siblings.\n      const mightSiblingsBeOnTrackedPath =\n        updateTrackedPathStateBeforeMount(fiber);\n\n      const shouldIncludeInTree = !shouldFilterFiber(fiber);\n      if (shouldIncludeInTree) {\n        recordMount(fiber, parentFiber);\n      }\n\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      const isSuspense = fiber.tag === ReactTypeOfWork.SuspenseComponent;\n      if (isSuspense) {\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          const fallbackChild = fallbackChildFragment\n            ? fallbackChildFragment.child\n            : null;\n          if (fallbackChild !== null) {\n            mountFiberRecursively(\n              fallbackChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        } else {\n          let primaryChild: Fiber | null = null;\n          const areSuspenseChildrenConditionallyWrapped =\n            OffscreenComponent === -1;\n          if (areSuspenseChildrenConditionallyWrapped) {\n            primaryChild = fiber.child;\n          } else if (fiber.child !== null) {\n            primaryChild = fiber.child.child;\n          }\n          if (primaryChild !== null) {\n            mountFiberRecursively(\n              primaryChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountFiberRecursively(\n            fiber.child,\n            shouldIncludeInTree ? fiber : parentFiber,\n            true,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n\n      // We're exiting this Fiber now, and entering its siblings.\n      // If we have selection to restore, we might need to re-activate tracking.\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n\n      fiber = traverseSiblings ? fiber.sibling : null;\n    }\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback.\n  function unmountFiberChildrenRecursively(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('unmountFiberChildrenRecursively()', fiber);\n    }\n\n    // We might meet a nested Suspense on our way.\n    const isTimedOutSuspense =\n      fiber.tag === ReactTypeOfWork.SuspenseComponent &&\n      fiber.memoizedState !== null;\n\n    let child = fiber.child;\n    if (isTimedOutSuspense) {\n      // If it's showing fallback tree, let's traverse it instead.\n      const primaryChildFragment = fiber.child;\n      const fallbackChildFragment = primaryChildFragment\n        ? primaryChildFragment.sibling\n        : null;\n      // Skip over to the real Fiber child.\n      child = fallbackChildFragment ? fallbackChildFragment.child : null;\n    }\n\n    while (child !== null) {\n      // Record simulated unmounts children-first.\n      // We skip nodes without return because those are real unmounts.\n      if (child.return !== null) {\n        unmountFiberChildrenRecursively(child);\n        recordUnmount(child, true);\n      }\n      child = child.sibling;\n    }\n  }\n\n  function recordProfilingDurations(fiber: Fiber) {\n    const id = getFiberIDThrows(fiber);\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    idToTreeBaseDurationMap.set(id, treeBaseDuration || 0);\n\n    if (isProfiling) {\n      const {alternate} = fiber;\n\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        alternate == null ||\n        treeBaseDuration !== alternate.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (alternate == null || didFiberRender(alternate, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata =\n            ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(alternate, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n\n            updateContextsForFiber(fiber);\n          }\n        }\n      }\n    }\n  }\n\n  function recordResetChildren(fiber: Fiber, childSet: Fiber) {\n    if (__DEBUG__) {\n      debug('recordResetChildren()', childSet, fiber);\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    // This is a naive implementation that shallowly recourses children.\n    // We might want to revisit this if it proves to be too inefficient.\n    let child: null | Fiber = childSet;\n    while (child !== null) {\n      findReorderedChildrenRecursively(child, nextChildren);\n      child = child.sibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(getFiberIDThrows(fiber));\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function findReorderedChildrenRecursively(\n    fiber: Fiber,\n    nextChildren: Array<number>,\n  ) {\n    if (!shouldFilterFiber(fiber)) {\n      nextChildren.push(getFiberIDThrows(fiber));\n    } else {\n      let child = fiber.child;\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // Special case: if Suspense mounts in a timed-out state,\n        // get the fallback child from the inner fragment,\n        // and skip over the primary child.\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment\n          ? primaryChildFragment.sibling\n          : null;\n        const fallbackChild = fallbackChildFragment\n          ? fallbackChildFragment.child\n          : null;\n        if (fallbackChild !== null) {\n          child = fallbackChild;\n        }\n      }\n      while (child !== null) {\n        findReorderedChildrenRecursively(child, nextChildren);\n        child = child.sibling;\n      }\n    }\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    parentFiber: Fiber | null,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    const id = getOrGenerateFiberID(nextFiber);\n\n    if (__DEBUG__) {\n      debug('updateFiberRecursively()', nextFiber, parentFiber);\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id &&\n      didFiberRender(prevFiber, nextFiber)\n    ) {\n      // If this Fiber has updated, clear cached inspected data.\n      // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n      hasElementUpdatedSinceLastInspected = true;\n    }\n\n    const shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n    const isSuspense = nextFiber.tag === SuspenseComponent;\n    let shouldResetChildren = false;\n    // The behavior of timed-out Suspense trees is unique.\n    // Rather than unmount the timed out content (and possibly lose important state),\n    // React re-parents this content within a hidden Fragment while the fallback is showing.\n    // This behavior doesn't need to be observable in the DevTools though.\n    // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n    // The easiest fix is to strip out the intermediate Fragment fibers,\n    // so the Elements panel and Profiler don't need to special case them.\n    // Suspense components only have a non-null memoizedState if they're timed-out.\n    const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n    const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n    // The logic below is inspired by the code paths in updateSuspenseComponent()\n    // inside ReactFiberBeginWork in the React source code.\n    if (prevDidTimeout && nextDidTimeOut) {\n      // Fallback -> Fallback:\n      // 1. Reconcile fallback set.\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      // Note: We can't use nextFiber.child.sibling.alternate\n      // because the set is special and alternate may not exist.\n      const prevFiberChild = prevFiber.child;\n      const prevFallbackChildSet = prevFiberChild\n        ? prevFiberChild.sibling\n        : null;\n\n      if (prevFallbackChildSet == null && nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n\n        shouldResetChildren = true;\n      }\n\n      if (\n        nextFallbackChildSet != null &&\n        prevFallbackChildSet != null &&\n        updateFiberRecursively(\n          nextFallbackChildSet,\n          prevFallbackChildSet,\n          nextFiber,\n          traceNearestHostComponentUpdate,\n        )\n      ) {\n        shouldResetChildren = true;\n      }\n    } else if (prevDidTimeout && !nextDidTimeOut) {\n      // Fallback -> Primary:\n      // 1. Unmount fallback set\n      // Note: don't emulate fallback unmount because React actually did it.\n      // 2. Mount primary set\n      const nextPrimaryChildSet = nextFiber.child;\n      if (nextPrimaryChildSet !== null) {\n        mountFiberRecursively(\n          nextPrimaryChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n      }\n      shouldResetChildren = true;\n    } else if (!prevDidTimeout && nextDidTimeOut) {\n      // Primary -> Fallback:\n      // 1. Hide primary set\n      // This is not a real unmount, so it won't get reported by React.\n      // We need to manually walk the previous tree and record unmounts.\n      unmountFiberChildrenRecursively(prevFiber);\n      // 2. Mount fallback set\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      if (nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n        shouldResetChildren = true;\n      }\n    } else {\n      // Common case: Primary -> Primary.\n      // This is the same code path as for non-Suspense fibers.\n      if (nextFiber.child !== prevFiber.child) {\n        // If the first child is different, we need to traverse them.\n        // Each next child will be either a new child (mount) or an alternate (update).\n        let nextChild = nextFiber.child;\n        let prevChildAtSameIndex = prevFiber.child;\n        while (nextChild) {\n          // We already know children will be referentially different because\n          // they are either new mounts or alternates of previous children.\n          // Schedule updates and mounts depending on whether alternates exist.\n          // We don't track deletions here because they are reported separately.\n          if (nextChild.alternate) {\n            const prevChild = nextChild.alternate;\n            if (\n              updateFiberRecursively(\n                nextChild,\n                prevChild,\n                shouldIncludeInTree ? nextFiber : parentFiber,\n                traceNearestHostComponentUpdate,\n              )\n            ) {\n              // If a nested tree child order changed but it can't handle its own\n              // child order invalidation (e.g. because it's filtered out like host nodes),\n              // propagate the need to reset child order upwards to this Fiber.\n              shouldResetChildren = true;\n            }\n            // However we also keep track if the order of the children matches\n            // the previous order. They are always different referentially, but\n            // if the instances line up conceptually we'll want to know that.\n            if (prevChild !== prevChildAtSameIndex) {\n              shouldResetChildren = true;\n            }\n          } else {\n            mountFiberRecursively(\n              nextChild,\n              shouldIncludeInTree ? nextFiber : parentFiber,\n              false,\n              traceNearestHostComponentUpdate,\n            );\n            shouldResetChildren = true;\n          }\n          // Try the next child.\n          nextChild = nextChild.sibling;\n          // Advance the pointer in the previous list so that we can\n          // keep comparing if they line up.\n          if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n            prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n          }\n        }\n        // If we have no more children, but used to, they don't line up.\n        if (prevChildAtSameIndex !== null) {\n          shouldResetChildren = true;\n        }\n      } else {\n        if (traceUpdatesEnabled) {\n          // If we're tracing updates and we've bailed out before reaching a host node,\n          // we should fall back to recursively marking the nearest host descendants for highlight.\n          if (traceNearestHostComponentUpdate) {\n            const hostFibers = findAllCurrentHostFibers(\n              getFiberIDThrows(nextFiber),\n            );\n            hostFibers.forEach(hostFiber => {\n              traceUpdatesForNodes.add(hostFiber.stateNode);\n            });\n          }\n        }\n      }\n    }\n\n    if (shouldIncludeInTree) {\n      const isProfilingSupported = nextFiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        recordProfilingDurations(nextFiber);\n      }\n    }\n    if (shouldResetChildren) {\n      // We need to crawl the subtree for closest non-filtered Fibers\n      // so that we can display them in a flat children set.\n      if (shouldIncludeInTree) {\n        // Normally, search for children from the rendered child.\n        let nextChildSet = nextFiber.child;\n        if (nextDidTimeOut) {\n          // Special case: timed-out Suspense renders the fallback set.\n          const nextFiberChild = nextFiber.child;\n          nextChildSet = nextFiberChild ? nextFiberChild.sibling : null;\n        }\n        if (nextChildSet != null) {\n          recordResetChildren(nextFiber, nextChildSet);\n        }\n        // We've handled the child order change for this Fiber.\n        // Since it's included, there's no need to invalidate parent child order.\n        return false;\n      } else {\n        // Let the closest unfiltered parent Fiber reset its child order instead.\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function cleanup() {\n    // We don't patch any methods so there is no cleanup.\n  }\n\n  function rootSupportsProfiling(root: any) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        currentRootID = getOrGenerateFiberID(root.current);\n        setRootPseudoKey(currentRootID, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: getUpdatersList(root),\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, null, false, false);\n        flushPendingEvents(root);\n        currentRootID = -1;\n      });\n    }\n  }\n\n  function getUpdatersList(root: any): Array<SerializedElement> | null {\n    return root.memoizedUpdaters != null\n      ? Array.from(root.memoizedUpdaters)\n          .filter(fiber => getFiberIDUnsafe(fiber) !== null)\n          .map(fiberToSerializedElement)\n      : null;\n  }\n\n  function handleCommitFiberUnmount(fiber: any) {\n    // If the untrackFiberSet already has the unmounted Fiber, this means we've already\n    // recordedUnmount, so we don't need to do it again. If we don't do this, we might\n    // end up double-deleting Fibers in some cases (like Legacy Suspense).\n    if (!untrackFibersSet.has(fiber)) {\n      // This is not recursive.\n      // We can't traverse fibers after unmounting so instead\n      // we rely on React telling us about each unmount.\n      recordUnmount(fiber, false);\n    }\n  }\n\n  function handlePostCommitFiberRoot(root: any) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} =\n          getEffectDurations(root);\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.passiveEffectDuration =\n          passiveEffectDuration;\n      }\n    }\n  }\n\n  function handleCommitFiberRoot(root: any, priorityLevel: void | number) {\n    const current = root.current;\n    const alternate = current.alternate;\n\n    // Flush any pending Fibers that we are untracking before processing the new commit.\n    // If we don't do this, we might end up double-deleting Fibers in some cases (like Legacy Suspense).\n    untrackFibers();\n\n    currentRootID = getOrGenerateFiberID(current);\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n\n        updaters: getUpdatersList(root),\n\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    if (alternate) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        alternate.memoizedState != null &&\n        alternate.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        alternate.memoizedState.isDehydrated !== true;\n      const isMounted =\n        current.memoizedState != null &&\n        current.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        current.memoizedState.isDehydrated !== true;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRootID, current);\n        mountFiberRecursively(current, null, false, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(current, alternate, null, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        removeRootPseudoKey(currentRootID);\n        recordUnmount(current, false);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRootID, current);\n      mountFiberRecursively(current, null, false, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      if (!shouldBailoutWithPendingOperations()) {\n        const commitProfilingMetadata =\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n            currentRootID,\n          );\n\n        if (commitProfilingMetadata != null) {\n          commitProfilingMetadata.push(\n            ((currentCommitProfilingMetadata: any): CommitProfilingData),\n          );\n        } else {\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n            currentRootID,\n            [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n          );\n        }\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRootID = -1;\n  }\n\n  function findAllCurrentHostFibers(id: number): $ReadOnlyArray<Fiber> {\n    const fibers = [];\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (!fiber) {\n      return fibers;\n    }\n\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (node.tag === HostComponent || node.tag === HostText) {\n        fibers.push(node);\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return fibers;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return fibers;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n    // Flow needs the return here, but ESLint complains about it.\n    // eslint-disable-next-line no-unreachable\n    return fibers;\n  }\n\n  function findNativeNodesForFiberID(id: number) {\n    try {\n      const fiber = findCurrentFiberUsingSlowPathById(id);\n      if (fiber === null) {\n        return null;\n      }\n\n      const hostFibers = findAllCurrentHostFibers(id);\n      return hostFibers.map(hostFiber => hostFiber.stateNode).filter(Boolean);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForFiberID(id: number): null | string {\n    const fiber = idToArbitraryFiberMap.get(id);\n    return fiber != null ? getDisplayNameForFiber(fiber) : null;\n  }\n\n  function getFiberForNative(hostInstance: NativeType) {\n    return renderer.findFiberByHostInstance(hostInstance);\n  }\n\n  function getFiberIDForNative(\n    hostInstance: NativeType,\n    findNearestUnfilteredAncestor: boolean = false,\n  ) {\n    let fiber = renderer.findFiberByHostInstance(hostInstance);\n    if (fiber != null) {\n      if (findNearestUnfilteredAncestor) {\n        while (fiber !== null && shouldFilterFiber(fiber)) {\n          fiber = fiber.return;\n        }\n      }\n      return getFiberIDThrows(((fiber: any): Fiber));\n    }\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function assertIsMounted(fiber: Fiber) {\n    if (getNearestMountedFiber(fiber) !== fiber) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function getNearestMountedFiber(fiber: Fiber): null | Fiber {\n    let node = fiber;\n    let nearestMounted: null | Fiber = fiber;\n    if (!fiber.alternate) {\n      // If there is no alternate, this might be a new tree that isn't inserted\n      // yet. If it is, then it will have a pending insertion effect on it.\n      let nextNode: Fiber = node;\n      do {\n        node = nextNode;\n        // TODO: This function, and these flags, are a leaked implementation\n        // detail. Once we start releasing DevTools in lockstep with React, we\n        // should import a function from the reconciler instead.\n        const Placement = 0b000000000000000000000000010;\n        const Hydrating = 0b000000000000001000000000000;\n        if ((node.flags & (Placement | Hydrating)) !== 0) {\n          // This is an insertion or in-progress hydration. The nearest possible\n          // mounted fiber is the parent but we need to continue to figure out\n          // if that one is still mounted.\n          nearestMounted = node.return;\n        }\n        // $FlowFixMe[incompatible-type] we bail out when we get a null\n        nextNode = node.return;\n      } while (nextNode);\n    } else {\n      while (node.return) {\n        node = node.return;\n      }\n    }\n    if (node.tag === HostRoot) {\n      // TODO: Check if this was a nested HostRoot when used with\n      // renderContainerIntoSubtree.\n      return nearestMounted;\n    }\n    // If we didn't hit the root, that means that we're in an disconnected tree\n    // that has been unmounted.\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  // It would be nice if we updated React to inject this function directly (vs just indirectly via findDOMNode).\n  // BEGIN copied code\n  function findCurrentFiberUsingSlowPathById(id: number): Fiber | null {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return null;\n    }\n\n    const alternate = fiber.alternate;\n    if (!alternate) {\n      // If there is no alternate, then we only need to check if it is mounted.\n      const nearestMounted = getNearestMountedFiber(fiber);\n\n      if (nearestMounted === null) {\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (nearestMounted !== fiber) {\n        return null;\n      }\n      return fiber;\n    }\n    // If we have two possible branches, we'll walk backwards up to the root\n    // to see what path the root points to. On the way we may hit one of the\n    // special cases and we'll deal with them.\n    let a: Fiber = fiber;\n    let b: Fiber = alternate;\n    while (true) {\n      const parentA = a.return;\n      if (parentA === null) {\n        // We're at the root.\n        break;\n      }\n      const parentB = parentA.alternate;\n      if (parentB === null) {\n        // There is no alternate. This is an unusual case. Currently, it only\n        // happens when a Suspense component is hidden. An extra fragment fiber\n        // is inserted in between the Suspense fiber and its children. Skip\n        // over this extra fragment fiber and proceed to the next parent.\n        const nextParent = parentA.return;\n        if (nextParent !== null) {\n          a = b = nextParent;\n          continue;\n        }\n        // If there's no parent, we're at the root.\n        break;\n      }\n\n      // If both copies of the parent fiber point to the same child, we can\n      // assume that the child is current. This happens when we bailout on low\n      // priority: the bailed out fiber's child reuses the current child.\n      if (parentA.child === parentB.child) {\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            // We've determined that A is the current branch.\n            assertIsMounted(parentA);\n            return fiber;\n          }\n          if (child === b) {\n            // We've determined that B is the current branch.\n            assertIsMounted(parentA);\n            return alternate;\n          }\n          child = child.sibling;\n        }\n\n        // We should never have an alternate for any mounting node. So the only\n        // way this could possibly happen is if this was unmounted, if at all.\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (a.return !== b.return) {\n        // The return pointer of A and the return pointer of B point to different\n        // fibers. We assume that return pointers never criss-cross, so A must\n        // belong to the child set of A.return, and B must belong to the child\n        // set of B.return.\n        a = parentA;\n        b = parentB;\n      } else {\n        // The return pointers point to the same fiber. We'll have to use the\n        // default, slow path: scan the child sets of each parent alternate to see\n        // which child belongs to which set.\n        //\n        // Search parent A's child set\n        let didFindChild = false;\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentA;\n            b = parentB;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentA;\n            a = parentB;\n            break;\n          }\n          child = child.sibling;\n        }\n        if (!didFindChild) {\n          // Search parent B's child set\n          child = parentB.child;\n          while (child) {\n            if (child === a) {\n              didFindChild = true;\n              a = parentB;\n              b = parentA;\n              break;\n            }\n            if (child === b) {\n              didFindChild = true;\n              b = parentB;\n              a = parentA;\n              break;\n            }\n            child = child.sibling;\n          }\n\n          if (!didFindChild) {\n            throw new Error(\n              'Child was not found in either parent set. This indicates a bug ' +\n                'in React related to the return pointer. Please file an issue.',\n            );\n          }\n        }\n      }\n\n      if (a.alternate !== b) {\n        throw new Error(\n          \"Return fibers should always be each others' alternates. \" +\n            'This error is likely caused by a bug in React. Please file an issue.',\n        );\n      }\n    }\n\n    // If the root is not a host container, we're in a disconnected tree. I.e.\n    // unmounted.\n    if (a.tag !== HostRoot) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n\n    if (a.stateNode.current === a) {\n      // We've determined that A is the current branch.\n      return fiber;\n    }\n    // Otherwise B has to be current branch.\n    return alternate;\n  }\n\n  // END copied code\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      window.$attribute = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        global.$type = type;\n        break;\n      case ForwardRef:\n        global.$type = type.render;\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$type =\n          elementType != null && elementType.type != null\n            ? elementType.type\n            : type;\n        break;\n      default:\n        global.$type = null;\n        break;\n    }\n  }\n\n  function fiberToSerializedElement(fiber: Fiber): SerializedElement {\n    return {\n      displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n      id: getFiberIDThrows(fiber),\n      key: fiber.key,\n      type: getElementTypeForFiber(fiber),\n    };\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const owners: Array<SerializedElement> = [fiberToSerializedElement(fiber)];\n\n    let owner = fiber._debugOwner;\n    while (owner != null) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        owners.unshift(fiberToSerializedElement(ownerFiber));\n        owner = ownerFiber._debugOwner;\n      } else {\n        // TODO: Track Server Component Owners.\n        break;\n      }\n    }\n\n    return owners;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function getNearestErrorBoundaryID(fiber: Fiber): number | null {\n    let parent = fiber.return;\n    while (parent !== null) {\n      if (isErrorBoundary(parent)) {\n        return getFiberIDUnsafe(parent);\n      }\n      parent = parent.return;\n    }\n    return null;\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      _debugOwner: debugOwner,\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState = !usesHooks && tag !== CacheComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IncompleteFunctionComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      // Detect pre-19 Context Consumers\n      (typeSymbol === CONTEXT_NUMBER || typeSymbol === CONTEXT_SYMBOL_STRING) &&\n      !(\n        // In 19+, CONTEXT_SYMBOL_STRING means a Provider instead.\n        // It will be handled in a different branch below.\n        // Eventually, this entire branch can be removed.\n        (type._context === undefined && type.Provider === type)\n      )\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    } else if (\n      // Detect 19+ Context Consumers\n      typeSymbol === CONSUMER_SYMBOL_STRING\n    ) {\n      // This branch is 19+ only, where Context.Provider === Context.\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          // In 19+, these are Context Providers\n          currentTypeSymbol === CONTEXT_SYMBOL_STRING\n        ) {\n          const providerResolvedContext = currentType;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    let owners: null | Array<SerializedElement> = null;\n    let owner = debugOwner;\n    while (owner != null) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        if (owners === null) {\n          owners = [];\n        }\n        owners.push(fiberToSerializedElement(ownerFiber));\n        owner = ownerFiber._debugOwner;\n      } else {\n        // TODO: Track Server Component Owners.\n        break;\n      }\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe[prop-missing]\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(fiber, getDispatcherRef(renderer));\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe[prop-missing]\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    while (current.return !== null) {\n      current = current.return;\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    const errors = fiberIDToErrorsMap.get(id) || new Map();\n    const warnings = fiberIDToWarningsMap.get(id) || new Map();\n\n    let isErrored = false;\n    let targetErrorBoundaryID;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      //\n      // TODO: This flag is a leaked implementation detail. Once we start\n      // releasing DevTools in lockstep with React, we should import a function\n      // from the reconciler instead.\n      const DidCapture = 0b000000000000000000010000000;\n      isErrored =\n        (fiber.flags & DidCapture) !== 0 ||\n        forceErrorForFiberIDs.get(id) === true;\n      targetErrorBoundaryID = isErrored ? id : getNearestErrorBoundaryID(fiber);\n    } else {\n      targetErrorBoundaryID = getNearestErrorBoundaryID(fiber);\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    if (enableStyleXFeatures) {\n      if (memoizedProps != null && memoizedProps.hasOwnProperty('xstyle')) {\n        plugins.stylex = getStyleXData(memoizedProps.xstyle);\n      }\n    }\n\n    let source = null;\n    if (canViewSource) {\n      source = getSourceForFiber(fiber);\n    }\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && targetErrorBoundaryID != null,\n      // Is this error boundary in error state.\n      isErrored,\n      targetErrorBoundaryID,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForSuspenseIDs.has(id)),\n\n      // Can view component source location.\n      canViewSource,\n      source,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      displayName: getDisplayNameForFiber(fiber),\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors: Array.from(errors.entries()),\n      warnings: Array.from(warnings.entries()),\n\n      // List of owners\n      owners,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id\n    );\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    if (isMostRecentlyInspectedElement(id)) {\n      const valueToCopy = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id) && !forceFullData) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory = null;\n          if (path[0] === 'hooks') {\n            secondaryCategory = 'hooks';\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    try {\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n    } catch (error) {\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsRenderError') {\n        let message = 'Error rendering inspected element.';\n        let stack;\n        // Log error & cause for user to debug\n        console.error(message + '\\n\\n', error);\n        if (error.cause != null) {\n          const fiber = findCurrentFiberUsingSlowPathById(id);\n          const componentName =\n            fiber != null ? getDisplayNameForFiber(fiber) : null;\n          console.error(\n            'React DevTools encountered an error while trying to inspect hooks. ' +\n              'This is most likely caused by an error in current inspected component' +\n              (componentName != null ? `: \"${componentName}\".` : '.') +\n              '\\nThe error thrown in the component is: \\n\\n',\n            error.cause,\n          );\n          if (error.cause instanceof Error) {\n            message = error.cause.message || message;\n            stack = error.cause.stack;\n          }\n        }\n\n        return {\n          type: 'error',\n          errorType: 'user',\n          id,\n          responseID: requestID,\n          message,\n          stack,\n        };\n      }\n\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsUnsupportedHookError') {\n        return {\n          type: 'error',\n          errorType: 'unknown-hook',\n          id,\n          responseID: requestID,\n          message:\n            'Unsupported hook in the react-debug-tools package: ' +\n            error.message,\n        };\n      }\n\n      // Log Uncaught Error\n      console.error('Error inspecting element.\\n\\n', error);\n\n      return {\n        type: 'error',\n        errorType: 'uncaught',\n        id,\n        responseID: requestID,\n        message: error.message,\n        stack: error.stack,\n      };\n    }\n\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(mostRecentlyInspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.context = cleanForBridge(\n      cleanedInspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.hooks = cleanForBridge(\n      cleanedInspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.props = cleanForBridge(\n      cleanedInspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.state = cleanForBridge(\n      cleanedInspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      // $FlowFixMe[prop-missing] found when upgrading Flow\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function logElementToConsole(id: number) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const nativeNodes = findNativeNodesForFiberID(id);\n    if (nativeNodes !== null) {\n      console.log('Nodes:', nativeNodes);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  };\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let idToContextsMap: Map<number, any> | null = null;\n  let initialTreeBaseDurationsMap: Map<number, number> | null = null;\n  let initialIDToRootMap: Map<number, number> | null = null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null =\n    null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n        const initialTreeBaseDurations: Array<[number, number]> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        if (initialTreeBaseDurationsMap != null) {\n          initialTreeBaseDurationsMap.forEach((treeBaseDuration, id) => {\n            if (\n              initialIDToRootMap != null &&\n              initialIDToRootMap.get(id) === rootID\n            ) {\n              // We don't need to convert milliseconds to microseconds in this case,\n              // because the profiling summary is JSON serialized.\n              initialTreeBaseDurations.push([id, treeBaseDuration]);\n            }\n          });\n        }\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([fiberID, durations[i + 1]]);\n            fiberSelfDurations.push([fiberID, durations[i + 2]]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration: maxActualDuration,\n            effectDuration,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    let timelineData = null;\n    if (typeof getTimelineData === 'function') {\n      const currentTimelineData = getTimelineData();\n      if (currentTimelineData) {\n        const {\n          batchUIDToMeasuresMap,\n          internalModuleSourceToRanges,\n          laneToLabelMap,\n          laneToReactMeasureMap,\n          ...rest\n        } = currentTimelineData;\n\n        timelineData = {\n          ...rest,\n\n          // Most of the data is safe to parse as-is,\n          // but we need to convert the nested Arrays back to Maps.\n          // Most of the data is safe to serialize as-is,\n          // but we need to convert the Maps to nested Arrays.\n          batchUIDToMeasuresKeyValueArray: Array.from(\n            batchUIDToMeasuresMap.entries(),\n          ),\n          internalModuleSourceToRanges: Array.from(\n            internalModuleSourceToRanges.entries(),\n          ),\n          laneToLabelKeyValueArray: Array.from(laneToLabelMap.entries()),\n          laneToReactMeasureKeyValueArray: Array.from(\n            laneToReactMeasureMap.entries(),\n          ),\n        };\n      }\n    }\n\n    return {\n      dataForRoots,\n      rendererID,\n      timelineData,\n    };\n  }\n\n  function startProfiling(shouldRecordChangeDescriptions: boolean) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map(idToTreeBaseDurationMap);\n    initialIDToRootMap = new Map(idToRootMap);\n    idToContextsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootID = getFiberIDThrows(root.current);\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n\n      if (shouldRecordChangeDescriptions) {\n        // Record all contexts at the time profiling is started.\n        // Fibers only store the current context value,\n        // so we need to track them separately in order to determine changed keys.\n        crawlToInitializeContextsMap(root.current);\n      }\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(true);\n    }\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(false);\n    }\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  ) {\n    startProfiling(\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n        'true',\n    );\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of id and its force error status: true (error), false (toggled off),\n  // null (do nothing)\n  const forceErrorForFiberIDs = new Map<number | null, $FlowFixMe>();\n\n  function shouldErrorFiberAccordingToMap(fiber: any) {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const id = getFiberIDUnsafe(fiber);\n    if (id === null) {\n      return null;\n    }\n\n    let status = null;\n    if (forceErrorForFiberIDs.has(id)) {\n      status = forceErrorForFiberIDs.get(id);\n      if (status === false) {\n        // TRICKY overrideError adds entries to this Map,\n        // so ideally it would be the method that clears them too,\n        // but that would break the functionality of the feature,\n        // since DevTools needs to tell React to act differently than it normally would\n        // (don't just re-render the failed boundary, but reset its errored state too).\n        // So we can only clear it after telling React to reset the state.\n        // Technically this is premature and we should schedule it for later,\n        // since the render could always fail without committing the updated error boundary,\n        // but since this is a DEV-only feature, the simplicity is worth the trade off.\n        forceErrorForFiberIDs.delete(id);\n\n        if (forceErrorForFiberIDs.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    return status;\n  }\n\n  function overrideError(id: number, forceError: boolean) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    forceErrorForFiberIDs.set(id, forceError);\n\n    if (forceErrorForFiberIDs.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForSuspenseIDs = new Set<number>();\n\n  function shouldSuspendFiberAccordingToSet(fiber: any) {\n    const maybeID = getFiberIDUnsafe(((fiber: any): Fiber));\n    return maybeID !== null && forceFallbackForSuspenseIDs.has(maybeID);\n  }\n\n  function overrideSuspense(id: number, forceFallback: boolean) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    if (forceFallback) {\n      forceFallbackForSuspenseIDs.add(id);\n      if (forceFallbackForSuspenseIDs.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForSuspenseIDs.delete(id);\n      if (forceFallbackForSuspenseIDs.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null;\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(fiber: Fiber): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(\n    mightSiblingsBeOnTrackedPath: boolean,\n  ) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.slice(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const id = getFiberIDThrows(fiber);\n        const pseudoKey = rootPseudoKeys.get(id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    let fiber: ?Fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      return null;\n    }\n    const keyPath = [];\n    while (fiber !== null) {\n      // $FlowFixMe[incompatible-call] found when upgrading Flow\n      keyPath.push(getPathFrame(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchFiber === null) {\n      // We didn't find anything.\n      return null;\n    }\n    // Find the closest Fiber store is aware of.\n    let fiber: null | Fiber = trackedPathMatchFiber;\n    while (fiber !== null && shouldFilterFiber(fiber)) {\n      fiber = fiber.return;\n    }\n    if (fiber === null) {\n      return null;\n    }\n    return {\n      id: getFiberIDThrows(fiber),\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  function hasFiberWithId(id: number): boolean {\n    return idToArbitraryFiberMap.has(id);\n  }\n\n  function getComponentStackForFiber(fiber: Fiber): string | null {\n    let componentStack = fiberToComponentStackMap.get(fiber);\n    if (componentStack == null) {\n      const dispatcherRef = getDispatcherRef(renderer);\n      if (dispatcherRef == null) {\n        return null;\n      }\n\n      componentStack = getStackByFiberInDevAndProd(\n        ReactTypeOfWork,\n        fiber,\n        dispatcherRef,\n      );\n      fiberToComponentStackMap.set(fiber, componentStack);\n    }\n\n    return componentStack;\n  }\n\n  function getSourceForFiber(fiber: Fiber): Source | null {\n    const componentStack = getComponentStackForFiber(fiber);\n    if (componentStack == null) {\n      return null;\n    }\n\n    return parseSourceFromComponentStack(componentStack);\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    getSerializedElementValueByPath,\n    deletePath,\n    findNativeNodesForFiberID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getComponentStackForFiber,\n    getSourceForFiber,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasFiberWithId,\n    inspectElement,\n    logElementToConsole,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {compareVersions} from 'compare-versions';\nimport {dehydrate} from '../hydration';\nimport isArray from 'shared/isArray';\n\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport type {DehydratedData} from 'react-devtools-shared/src/frontend/types';\n\n// TODO: update this to the first React version that has a corresponding DevTools backend\nconst FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER = '999.9.9';\nexport function hasAssignedBackend(version?: string): boolean {\n  if (version == null || version === '') {\n    return false;\n  }\n  return gte(version, FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER);\n}\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths: Array<Array<string | number>> = [];\n    const unserializablePaths: Array<Array<string | number>> = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe[incompatible-use] number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object): {\n  effectDuration: any | null,\n  passiveEffectDuration: any | null,\n} {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof data === 'function') {\n    return data.toString();\n  }\n\n  const cache = new Set<mixed>();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(\n    data,\n    (key: string, value: any) => {\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n      if (typeof value === 'bigint') {\n        return value.toString() + 'n';\n      }\n      return value;\n    },\n    2,\n  );\n}\n\n// Formats an array of args with a style for console methods, using\n// the following algorithm:\n//     1. The first param is a string that contains %c\n//          - Bail out and return the args without modifying the styles.\n//            We don't want to affect styles that the developer deliberately set.\n//     2. The first param is a string that doesn't contain %c but contains\n//        string formatting\n//          - [`%c${args[0]}`, style, ...args.slice(1)]\n//          - Note: we assume that the string formatting that the developer uses\n//            is correct.\n//     3. The first param is a string that doesn't contain string formatting\n//        OR is not a string\n//          - Create a formatting string where:\n//                 boolean, string, symbol -> %s\n//                 number -> %f OR %i depending on if it's an int or float\n//                 default -> %o\nexport function formatWithStyles(\n  inputArgs: $ReadOnlyArray<any>,\n  style?: string,\n): $ReadOnlyArray<any> {\n  if (\n    inputArgs === undefined ||\n    inputArgs === null ||\n    inputArgs.length === 0 ||\n    // Matches any of %c but not %%c\n    (typeof inputArgs[0] === 'string' && inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n    style === undefined\n  ) {\n    return inputArgs;\n  }\n\n  // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n  const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n  if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n    return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n  } else {\n    const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n      if (i > 0) {\n        formatStr += ' ';\n      }\n      switch (typeof elem) {\n        case 'string':\n        case 'boolean':\n        case 'symbol':\n          return (formatStr += '%s');\n        case 'number':\n          const formatting = Number.isInteger(elem) ? '%i' : '%f';\n          return (formatStr += formatting);\n        default:\n          return (formatStr += '%o');\n      }\n    }, '%c');\n    return [firstArg, style, ...inputArgs];\n  }\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\n// NOTE: KEEP IN SYNC with src/hook.js\nexport function format(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  let formatted: string = String(maybeMessage);\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      formatted += ' ' + String(args[i]);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return String(formatted);\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n\nexport function gt(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) === 1;\n}\n\nexport function gte(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) > -1;\n}\n\nexport const isReactNativeEnvironment = (): boolean => {\n  // We've been relying on this for such a long time\n  // We should probably define the client for DevTools on the backend side and share it with the frontend\n  return window.document == null;\n};\n\nfunction extractLocation(\n  url: string,\n): null | {sourceURL: string, line?: string, column?: string} {\n  if (url.indexOf(':') === -1) {\n    return null;\n  }\n\n  // remove any parentheses from start and end\n  const withoutParentheses = url.replace(/^\\(+/, '').replace(/\\)+$/, '');\n  const locationParts = /(at )?(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(\n    withoutParentheses,\n  );\n\n  if (locationParts == null) {\n    return null;\n  }\n\n  const [, , sourceURL, line, column] = locationParts;\n  return {sourceURL, line, column};\n}\n\nconst CHROME_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nfunction parseSourceFromChromeStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n\n    const locationInParenthesesMatch = sanitizedFrame.match(/ (\\(.+\\)$)/);\n    const possibleLocation = locationInParenthesesMatch\n      ? locationInParenthesesMatch[1]\n      : sanitizedFrame;\n\n    const location = extractLocation(possibleLocation);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nfunction parseSourceFromFirefoxStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n    const frameWithoutFunctionName = sanitizedFrame.replace(\n      /((.*\".+\"[^@]*)?[^@]*)(?:@)/,\n      '',\n    );\n\n    const location = extractLocation(frameWithoutFunctionName);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nexport function parseSourceFromComponentStack(\n  componentStack: string,\n): Source | null {\n  if (componentStack.match(CHROME_STACK_REGEXP)) {\n    return parseSourceFromChromeStack(componentStack);\n  }\n\n  return parseSourceFromFirefoxStack(componentStack);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const consoleManagedByDevToolsDuringStrictMode = false;\nexport const enableLogger = false;\nexport const enableStyleXFeatures = false;\nexport const isInternalFacebookBuild = false;\n\n/************************************************************************\n * Do not edit the code below.\n * It ensures this fork exports the same types as the default flags file.\n ************************************************************************/\n\nimport typeof * as FeatureFlagsType from './DevToolsFeatureFlags.default';\nimport typeof * as ExportsType from './DevToolsFeatureFlags.core-oss';\n\n// Flow magic to verify the exports of this file match the original version.\n((((null: any): ExportsType): FeatureFlagsType): ExportsType);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\n\nimport type {\n  DehydratedData,\n  InspectedElementPath,\n} from 'react-devtools-shared/src/frontend/types';\n\nexport const meta = {\n  inspectable: (Symbol('inspectable'): symbol),\n  inspected: (Symbol('inspected'): symbol),\n  name: (Symbol('name'): symbol),\n  preview_long: (Symbol('preview_long'): symbol),\n  preview_short: (Symbol('preview_short'): symbol),\n  readonly: (Symbol('readonly'): symbol),\n  size: (Symbol('size'): symbol),\n  type: (Symbol('type'): symbol),\n  unserializable: (Symbol('unserializable'): symbol),\n};\n\nexport type Dehydrated = {\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n};\n\n// Typed arrays and other complex iteratable objects (e.g. Map, Set, ImmutableJS) need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  [string | number]: any,\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      !data.constructor || data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      return data.map((item, i) =>\n        dehydrate(\n          item,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        ),\n      );\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            !data.constructor || data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object: {\n          [string]: $PropertyType<DehydratedData, 'data'>,\n        } = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrate(\n            data[key],\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'class_instance':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.constructor.name,\n      };\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {type};\n\n    default:\n      return data;\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: InspectedElementPath,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: symbol]: boolean | string} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {renameElementSymbol} from 'shared/ReactFeatureFlags';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_LEGACY_ELEMENT_TYPE: symbol = Symbol.for('react.element');\nexport const REACT_ELEMENT_TYPE: symbol = renameElementSymbol\n  ? Symbol.for('react.transitional.element')\n  : REACT_LEGACY_ELEMENT_TYPE;\nexport const REACT_PORTAL_TYPE: symbol = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE: symbol = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE: symbol = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE: symbol = Symbol.for('react.profiler');\nexport const REACT_PROVIDER_TYPE: symbol = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\nexport const REACT_CONSUMER_TYPE: symbol = Symbol.for('react.consumer');\nexport const REACT_CONTEXT_TYPE: symbol = Symbol.for('react.context');\nexport const REACT_FORWARD_REF_TYPE: symbol = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE: symbol = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE: symbol = Symbol.for(\n  'react.suspense_list',\n);\nexport const REACT_MEMO_TYPE: symbol = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE: symbol = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE: symbol = Symbol.for('react.scope');\nexport const REACT_DEBUG_TRACING_MODE_TYPE: symbol = Symbol.for(\n  'react.debug_trace_mode',\n);\nexport const REACT_OFFSCREEN_TYPE: symbol = Symbol.for('react.offscreen');\nexport const REACT_LEGACY_HIDDEN_TYPE: symbol = Symbol.for(\n  'react.legacy_hidden',\n);\nexport const REACT_TRACING_MARKER_TYPE: symbol = Symbol.for(\n  'react.tracing_marker',\n);\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n\nexport const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone');\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<any> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n\nexport const ASYNC_ITERATOR = Symbol.asyncIterator;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  isElement,\n  typeOf,\n  ContextConsumer,\n  ContextProvider,\n  ForwardRef,\n  Fragment,\n  Lazy,\n  Memo,\n  Portal,\n  Profiler,\n  StrictMode,\n  Suspense,\n} from 'react-is';\nimport {\n  REACT_CONSUMER_TYPE,\n  REACT_CONTEXT_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_LAZY_TYPE,\n  REACT_LEGACY_ELEMENT_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_PORTAL_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_PROVIDER_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_SUSPENSE_LIST_TYPE,\n  REACT_SUSPENSE_LIST_TYPE as SuspenseList,\n  REACT_SUSPENSE_TYPE,\n  REACT_TRACING_MARKER_TYPE as TracingMarker,\n} from 'shared/ReactSymbols';\nimport {enableRenderableContext} from 'shared/ReactFeatureFlags';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL,\n  LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n  LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n} from './constants';\nimport {\n  ComponentFilterElementType,\n  ComponentFilterLocation,\n  ElementTypeHostComponent,\n} from './frontend/types';\nimport {\n  ElementTypeRoot,\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n} from 'react-devtools-shared/src/frontend/types';\nimport {localStorageGetItem, localStorageSetItem} from './storage';\nimport {meta} from './hydration';\nimport isArray from './isArray';\n\nimport type {\n  ComponentFilter,\n  ElementType,\n  BrowserTheme,\n  SerializedElement as SerializedElementFrontend,\n  LRUCache,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {SerializedElement as SerializedElementBackend} from 'react-devtools-shared/src/backend/types';\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\nexport function alphaSortKeys(\n  a: string | number | symbol,\n  b: string | number | symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | symbol> {\n  const keys = new Set<string | number | symbol>();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe[incompatible-type]: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\n// Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\nexport function getWrappedDisplayName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n  fallbackName?: string,\n): string {\n  const displayName = (outerType: any)?.displayName;\n  return (\n    displayName || `${wrapperName}(${getDisplayName(innerType, fallbackName)})`\n  );\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeStringWithRanges(\n  array: Array<number>,\n  left: number,\n  right: number,\n): string {\n  let string = '';\n  for (let i = left; i <= right; i++) {\n    string += String.fromCodePoint(array[i]);\n  }\n  return string;\n}\n\nfunction surrogatePairToCodePoint(\n  charCode1: number,\n  charCode2: number,\n): number {\n  return ((charCode1 & 0x3ff) << 10) + (charCode2 & 0x3ff) + 0x10000;\n}\n\n// Credit for this encoding approach goes to Tim Down:\n// https://stackoverflow.com/questions/4877326/how-can-i-tell-if-a-string-contains-multibyte-characters-in-javascript\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = [];\n  let i = 0;\n  let charCode;\n  while (i < string.length) {\n    charCode = string.charCodeAt(i);\n    // Handle multibyte unicode characters (like emoji).\n    if ((charCode & 0xf800) === 0xd800) {\n      encoded.push(surrogatePairToCodePoint(charCode, string.charCodeAt(++i)));\n    } else {\n      encoded.push(charCode);\n    }\n    ++i;\n  }\n\n  encodedStringCache.set(string, encoded);\n\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable: Array<null | string> = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeStringWithRanges(\n      operations,\n      i,\n      i + nextLength - 1,\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // isStrictModeCompliant\n          i++; // supportsProfiling\n          i++; // supportsStrictMode\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_SET_SUBTREE_MODE: {\n        const id = operations[i + 1];\n        const mode = operations[i + 1];\n\n        i += 3;\n\n        logs.push(`Mode ${mode} set for subtree with root ${id}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS:\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    );\n    if (raw != null) {\n      const parsedFilters: Array<ComponentFilter> = JSON.parse(raw);\n      return filterOutLocationComponentFilters(parsedFilters);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function setSavedComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    JSON.stringify(filterOutLocationComponentFilters(componentFilters)),\n  );\n}\n\n// Following __debugSource removal from Fiber, the new approach for finding the source location\n// of a component, represented by the Fiber, is based on lazily generating and parsing component stack frames\n// To find the original location, React DevTools will perform symbolication, source maps are required for that.\n// In order to start filtering Fibers, we need to find location for all of them, which can't be done lazily.\n// Eager symbolication can become quite expensive for large applications.\nexport function filterOutLocationComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): Array<ComponentFilter> {\n  // This is just an additional check to preserve the previous state\n  // Filters can be stored on the backend side or in user land (in a window object)\n  if (!Array.isArray(componentFilters)) {\n    return componentFilters;\n  }\n\n  return componentFilters.filter(f => f.type !== ComponentFilterLocation);\n}\n\nfunction parseBool(s: ?string): ?boolean {\n  if (s === 'true') {\n    return true;\n  }\n  if (s === 'false') {\n    return false;\n  }\n}\n\nexport function castBool(v: any): ?boolean {\n  if (v === true || v === false) {\n    return v;\n  }\n}\n\nexport function castBrowserTheme(v: any): ?BrowserTheme {\n  if (v === 'light' || v === 'dark' || v === 'auto') {\n    return v;\n  }\n}\n\nexport function getAppendComponentStack(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getBreakOnConsoleErrors(): boolean {\n  const raw = localStorageGetItem(LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS);\n  return parseBool(raw) ?? false;\n}\n\nexport function getHideConsoleLogsInStrictMode(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n  );\n  return parseBool(raw) ?? false;\n}\n\nexport function getShowInlineWarningsAndErrors(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getDefaultOpenInEditorURL(): string {\n  return typeof process.env.EDITOR_URL === 'string'\n    ? process.env.EDITOR_URL\n    : '';\n}\n\nexport function getOpenInEditorURL(): string {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_OPEN_IN_EDITOR_URL);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultOpenInEditorURL();\n}\n\ntype ParseElementDisplayNameFromBackendReturn = {\n  formattedDisplayName: string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n};\nexport function parseElementDisplayNameFromBackend(\n  displayName: string | null,\n  type: ElementType,\n): ParseElementDisplayNameFromBackendReturn {\n  if (displayName === null) {\n    return {\n      formattedDisplayName: null,\n      hocDisplayNames: null,\n      compiledWithForget: false,\n    };\n  }\n\n  if (displayName.startsWith('Forget(')) {\n    const displayNameWithoutForgetWrapper = displayName.slice(\n      7,\n      displayName.length - 1,\n    );\n\n    const {formattedDisplayName, hocDisplayNames} =\n      parseElementDisplayNameFromBackend(displayNameWithoutForgetWrapper, type);\n    return {formattedDisplayName, hocDisplayNames, compiledWithForget: true};\n  }\n\n  let hocDisplayNames = null;\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  return {\n    formattedDisplayName: displayName,\n    hocDisplayNames,\n    compiledWithForget: false,\n  };\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'class_instance'\n  | 'data_view'\n  | 'date'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (isElement(data)) {\n    return 'react_element';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else {\n        // $FlowFixMe[method-unbinding]\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n\n      if (!isPlainObject(data)) {\n        return 'class_instance';\n      }\n\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        // $FlowFixMe[method-unbinding]\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\n// Fork of packages/react-is/src/ReactIs.js:30, but with legacy element type\n// Which has been changed in https://github.com/facebook/react/pull/28813\nfunction typeOfWithLegacyElementSymbol(object: any): mixed {\n  if (typeof object === 'object' && object !== null) {\n    const $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_LEGACY_ELEMENT_TYPE:\n        const type = object.type;\n\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n            return type;\n          default:\n            const $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return $$typeofType;\n              case REACT_CONSUMER_TYPE:\n                if (enableRenderableContext) {\n                  return $$typeofType;\n                }\n              // Fall through\n              case REACT_PROVIDER_TYPE:\n                if (!enableRenderableContext) {\n                  return $$typeofType;\n                }\n              // Fall through\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOf(element) || typeOfWithLegacyElementSymbol(element);\n  switch (elementType) {\n    case ContextConsumer:\n      return 'ContextConsumer';\n    case ContextProvider:\n      return 'ContextProvider';\n    case ForwardRef:\n      return 'ForwardRef';\n    case Fragment:\n      return 'Fragment';\n    case Lazy:\n      return 'Lazy';\n    case Memo:\n      return 'Memo';\n    case Portal:\n      return 'Portal';\n    case Profiler:\n      return 'Profiler';\n    case StrictMode:\n      return 'StrictMode';\n    case Suspense:\n      return 'Suspense';\n    case SuspenseList:\n      return 'SuspenseList';\n    case TracingMarker:\n      return 'TracingMarker';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.slice(0, length) + '…';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {…}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {…}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      return truncateForDisplay(\n        `ƒ ${typeof data.name === 'function' ? '' : data.name}() {}`,\n      );\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'class_instance':\n      return data.constructor.name;\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{…}';\n      }\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return data;\n    default:\n      try {\n        return truncateForDisplay(String(data));\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n\n// Basically checking that the object only has Object in its prototype chain\nexport const isPlainObject = (object: Object): boolean => {\n  const objectPrototype = Object.getPrototypeOf(object);\n  if (!objectPrototype) return true;\n\n  const objectParentPrototype = Object.getPrototypeOf(objectPrototype);\n  return !objectParentPrototype;\n};\n\nexport function backendToFrontendSerializedElementMapper(\n  element: SerializedElementBackend,\n): SerializedElementFrontend {\n  const {formattedDisplayName, hocDisplayNames, compiledWithForget} =\n    parseElementDisplayNameFromBackend(element.displayName, element.type);\n\n  return {\n    ...element,\n    displayName: formattedDisplayName,\n    hocDisplayNames,\n    compiledWithForget,\n  };\n}\n\n// This is a hacky one to just support this exact case.\nexport function normalizeUrl(url: string): string {\n  return url.replace('/./', '/');\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n */\n\n// -----------------------------------------------------------------------------\n// Land or remove (zero effort)\n//\n// Flags that can likely be deleted or landed without consequences\n// -----------------------------------------------------------------------------\n\nexport const enableComponentStackLocations = true;\n\n// -----------------------------------------------------------------------------\n// Killswitch\n//\n// Flags that exist solely to turn off a change in case it causes a regression\n// when it rolls out to prod. We should remove these as soon as possible.\n// -----------------------------------------------------------------------------\n\n// -----------------------------------------------------------------------------\n// Land or remove (moderate effort)\n//\n// Flags that can be probably deleted or landed, but might require extra effort\n// like migrating internal callers or performance testing.\n// -----------------------------------------------------------------------------\n\n// TODO: Finish rolling out in www\nexport const favorSafetyOverHydrationPerf = true;\nexport const enableAsyncActions = true;\n\n// Need to remove didTimeout argument from Scheduler before landing\nexport const disableSchedulerTimeoutInWorkLoop = false;\n\n// This will break some internal tests at Meta so we need to gate this until\n// those can be fixed.\nexport const enableDeferRootSchedulingToMicrotask = true;\n\n// TODO: Land at Meta before removing.\nexport const disableDefaultPropsExceptForClasses = true;\n\n// -----------------------------------------------------------------------------\n// Slated for removal in the future (significant effort)\n//\n// These are experiments that didn't work out, and never shipped, but we can't\n// delete from the codebase until we migrate internal callers.\n// -----------------------------------------------------------------------------\n\n// Add a callback property to suspense to notify which promises are currently\n// in the update queue. This allows reporting and tracing of what is causing\n// the user to see a loading state.\n//\n// Also allows hydration callbacks to fire when a dehydrated boundary gets\n// hydrated or deleted.\n//\n// This will eventually be replaced by the Transition Tracing proposal.\nexport const enableSuspenseCallback = false;\n\n// Experimental Scope support.\nexport const enableScopeAPI = false;\n\n// Experimental Create Event Handle API.\nexport const enableCreateEventHandleAPI = false;\n\n// Support legacy Primer support on internal FB www\nexport const enableLegacyFBSupport = false;\n\n// -----------------------------------------------------------------------------\n// Ongoing experiments\n//\n// These are features that we're either actively exploring or are reasonably\n// likely to include in an upcoming release.\n// -----------------------------------------------------------------------------\n\nexport const enableCache = true;\nexport const enableLegacyCache = __EXPERIMENTAL__;\n\nexport const enableBinaryFlight = true;\nexport const enableFlightReadableStream = true;\nexport const enableAsyncIterableChildren = __EXPERIMENTAL__;\n\nexport const enableTaint = __EXPERIMENTAL__;\n\nexport const enablePostpone = __EXPERIMENTAL__;\n\nexport const enableTransitionTracing = false;\n\n// No known bugs, but needs performance testing\nexport const enableLazyContextPropagation = false;\n\n// FB-only usage. The new API has different semantics.\nexport const enableLegacyHidden = false;\n\n// Enables unstable_avoidThisFallback feature in Fiber\nexport const enableSuspenseAvoidThisFallback = false;\n// Enables unstable_avoidThisFallback feature in Fizz\nexport const enableSuspenseAvoidThisFallbackFizz = false;\n\nexport const enableCPUSuspense = __EXPERIMENTAL__;\n\n// Enables useMemoCache hook, intended as a compilation target for\n// auto-memoization.\nexport const enableUseMemoCacheHook = true;\n// Test this at Meta before enabling.\nexport const enableNoCloningMemoCache = false;\n\nexport const enableUseEffectEventHook = __EXPERIMENTAL__;\n\n// Test in www before enabling in open source.\n// Enables DOM-server to stream its instruction set as data-attributes\n// (handled with an MutationObserver) instead of inline-scripts\nexport const enableFizzExternalRuntime = __EXPERIMENTAL__;\n\nexport const alwaysThrottleRetries = true;\n\nexport const passChildrenWhenCloningPersistedNodes = false;\n\nexport const enableServerComponentLogs = __EXPERIMENTAL__;\n\nexport const enableAddPropertiesFastPath = false;\n\nexport const enableOwnerStacks = __EXPERIMENTAL__;\n\nexport const enableShallowPropDiffing = false;\n\n/**\n * Enables an expiration time for retry lanes to avoid starvation.\n */\nexport const enableRetryLaneExpiration = false;\nexport const retryLaneExpirationMs = 5000;\nexport const syncLaneExpirationMs = 250;\nexport const transitionLaneExpirationMs = 5000;\n\n// -----------------------------------------------------------------------------\n// Ready for next major.\n//\n// Alias __NEXT_MAJOR__ to __EXPERIMENTAL__ for easier skimming.\n// -----------------------------------------------------------------------------\n\n// TODO: Anything that's set to `true` in this section should either be cleaned\n// up (if it's on everywhere, including Meta and RN builds) or moved to a\n// different section of this file.\n\n// const __NEXT_MAJOR__ = __EXPERIMENTAL__;\n\n// Renames the internal symbol for elements since they have changed signature/constructor\nexport const renameElementSymbol = true;\n\n// Removes legacy style context\nexport const disableLegacyContext = true;\n\n// Not ready to break experimental yet.\n// Modern <StrictMode /> behaviour aligns more with what components\n// components will encounter in production, especially when used With <Offscreen />.\n// TODO: clean up legacy <StrictMode /> once tests pass WWW.\nexport const useModernStrictMode = true;\n\n// Not ready to break experimental yet.\n// Remove IE and MsApp specific workarounds for innerHTML\nexport const disableIEWorkarounds = true;\n\n// Filter certain DOM attributes (e.g. src, href) if their values are empty\n// strings. This prevents e.g. <img src=\"\"> from making an unnecessary HTTP\n// request for certain browsers.\nexport const enableFilterEmptyStringAttributesDOM = true;\n\n// Disabled caching behavior of `react/cache` in client runtimes.\nexport const disableClientCache = true;\n\n/**\n * Enables a new error detection for infinite render loops from updates caused\n * by setState or similar outside of the component owning the state.\n */\nexport const enableInfiniteRenderLoopDetection = true;\n\n// Subtle breaking changes to JSX runtime to make it faster, like passing `ref`\n// as a normal prop instead of stripping it from the props object.\n\n// Passes `ref` as a normal prop instead of stripping it from the props object\n// during element creation.\nexport const enableRefAsProp = true;\nexport const disableStringRefs = true;\nexport const enableFastJSX = true;\n\n// Warn on any usage of ReactTestRenderer\nexport const enableReactTestRendererWarning = true;\n\n// Disables legacy mode\n// This allows us to land breaking changes to remove legacy mode APIs in experimental builds\n// before removing them in stable in the next Major\nexport const disableLegacyMode = true;\n\n// Make <Context> equivalent to <Context.Provider> instead of <Context.Consumer>\nexport const enableRenderableContext = true;\n\n// Enables the `initialValue` option for `useDeferredValue`\nexport const enableUseDeferredValueInitialArg = true;\n\n// -----------------------------------------------------------------------------\n// Chopping Block\n//\n// Planned feature deprecations and breaking changes. Sorted roughly in order of\n// when we plan to enable them.\n// -----------------------------------------------------------------------------\n\n// Enables time slicing for updates that aren't wrapped in startTransition.\nexport const forceConcurrentByDefaultForTesting = false;\n\nexport const enableUnifiedSyncLane = true;\n\n// Adds an opt-in to time slicing for updates that aren't wrapped in startTransition.\nexport const allowConcurrentByDefault = false;\n\n// -----------------------------------------------------------------------------\n// React DOM Chopping Block\n//\n// Similar to main Chopping Block but only flags related to React DOM. These are\n// grouped because we will likely batch all of them into a single major release.\n// -----------------------------------------------------------------------------\n\n// Disable support for comment nodes as React DOM containers. Already disabled\n// in open source, but www codebase still relies on it. Need to remove.\nexport const disableCommentsAsDOMContainers = true;\n\nexport const enableTrustedTypesIntegration = false;\n\n// Prevent the value and checked attributes from syncing with their related\n// DOM properties\nexport const disableInputAttributeSyncing = false;\n\n// Disables children for <textarea> elements\nexport const disableTextareaChildren = false;\n\n// -----------------------------------------------------------------------------\n// Debugging and DevTools\n// -----------------------------------------------------------------------------\n\n// Adds user timing marks for e.g. state updates, suspense, and work loop stuff,\n// for an experimental timeline tool.\nexport const enableSchedulingProfiler = __PROFILE__;\n\n// Helps identify side effects in render-phase lifecycle hooks and setState\n// reducers by double invoking them in StrictLegacyMode.\nexport const debugRenderPhaseSideEffectsForStrictMode = __DEV__;\n\n// Gather advanced timing metrics for Profiler subtrees.\nexport const enableProfilerTimer = __PROFILE__;\n\n// Record durations for commit and passive effects phases.\nexport const enableProfilerCommitHooks = __PROFILE__;\n\n// Phase param passed to onRender callback differentiates between an \"update\" and a \"cascading-update\".\nexport const enableProfilerNestedUpdatePhase = __PROFILE__;\n\n// Adds verbose console logging for e.g. state updates, suspense, and work loop\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\nexport const enableDebugTracing = false;\n\nexport const enableAsyncDebugInfo = __EXPERIMENTAL__;\n\n// Track which Fiber(s) schedule render work.\nexport const enableUpdaterTracking = __PROFILE__;\n\n// Internal only.\nexport const enableGetInspectorDataForInstanceInProduction = false;\n\nexport const consoleManagedByDevToolsDuringStrictMode = true;\n\nexport const enableDO_NOT_USE_disableStrictPassiveEffect = false;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\n// eslint-disable-next-line no-redeclare\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(917);\n",""],"names":["ErrorStackParser","require","React","assign","Object","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","REACT_CONTEXT_TYPE","Symbol","for","REACT_MEMO_CACHE_SENTINEL","hasOwnProperty","prototype","hookLog","primitiveStackCache","getPrimitiveStackCache","cache","Map","Dispatcher","useContext","_currentValue","useState","useReducer","s","useRef","useCacheRefresh","useLayoutEffect","useInsertionEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useTransition","useSyncExternalStore","useDeferredValue","useMemo","useMemoCache","useOptimistic","useFormState","useActionState","use","$$typeof","then","status","value","x","useId","useHostTransitionStatus","readHookLog","i","length","hook","set","primitive","parse","stackError","currentFiber","currentHook","currentContextDependency","nextHook","next","readContext","context","Error","call","memoizedValue","SuspenseException","usable","fulfilledValue","push","displayName","debugInfo","_debugInfo","dispatcherHookName","reason","String","memoizedState","callback","create","ref","instance","current","formatterFn","nextCreate","size","fiber","$jscomp$optchain$tmpm1596876077$0","updateQueue","memoCache","data","index","Array","passthrough","reducer","initialArg","init","initialValue","initialState","stateHook","subscribe","getSnapshot","action","error","DispatcherProxyHandler","get","target","prop","name","DispatcherProxy","Proxy","mostLikelyAncestorIndex","findSharedIndex","hookStack","rootStack","rootIndex","source","a","b","isReactWrapper","functionName","wrapperName","parseHookName","startIndex","lastIndexOf","slice","buildTree","rootStack$jscomp$0","rootChildren","prevStack","levelChildren","nativeHookID","stackOfChildren","JSCompiler_inline_result","i$jscomp$0","pop","id","isStateEditable","subHooks","hookSource","lineNumber","columnNumber","fileName","processDebugValues","hooksTree","parentHooksNode","debugValueHooksNodes","hooksNode","splice","map","_ref","handleRenderFunctionError","wrapperError","cause","inspectHooks","renderFunction","props","currentDispatcher","previousDispatcher","H","ancestorStackError","restoreContexts","contextMap","forEach","exports","inspectHooksOfFiber","tag","dependencies","firstContext","dependencies_old","dependencies_new","contextDependencies","first","type","memoizedProps","elementType","defaultProps","propName","_context","has","return","render","process","env","NODE_ENV","module","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_POSTPONE_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","emptyObject","Component","updater","refs","isReactComponent","setState","partialState","forceUpdate","ComponentDummy","PureComponent","pureComponentPrototype","constructor","isPureReactComponent","isArrayImpl","isArray","A","T","S","ReactElement","key","self","owner","cloneAndReplaceKey","oldElement","newKey","isValidElement","object","escape","escaperLookup","replace","match","userProvidedKeyEscapeRegex","getElementKey","element","toString","noop$1","resolveThenable","thenable","mapIntoArray","children","array","escapedPrefix","nameSoFar","invokeCallback","_init","_payload","c","nextNamePrefix","done","keys","join","mapChildren","func","result","count","child","lazyInitializer","payload","_status","ctor","_result","moduleObject","default","reportGlobalError","reportError","window","ErrorEvent","event","bubbles","cancelable","message","dispatchEvent","emit","console","noop","Children","forEachFunc","forEachContext","apply","arguments","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","act","fn","cloneElement","config","childArray","createContext","defaultValue","_currentValue2","_threadCount","Provider","Consumer","createElement","childrenLength","createRef","experimental_useEffectEvent","useEffectEvent","experimental_useOptimistic","forwardRef","lazy","memo","compare","startTransition","scope","prevTransition","transition","returnValue","onStartTransitionFinish","unstable_Activity","unstable_DebugTracingMode","unstable_SuspenseList","unstable_getCacheForType","resourceType","dispatcher","getCacheForType","unstable_postpone","unstable_useCacheRefresh","permalink","deps","Context","getServerSnapshot","version","root","factory","define","amd","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","stack","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","indexOf","regExp","parts","exec","undefined","ErrorStackParser$$parseV8OrIE","filtered","split","filter","line","sanitizedLine","location","tokens","locationParts","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","e","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","len","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","shift","argsRaw","args","LRUCache","util","Yallist","hasSymbol","_nodeLRUCacheForceNoSymbol","makeSymbol","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","naiveLength","options","max","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","reset","defineProperty","mL","trim","enumerable","allowStale","mA","lC","hit","rforEach","thisp","walker","tail","prev","forEachStep","node","isStale","del","head","k","values","dump","v","now","h","dumpLru","inspect","opts","str","extras","as","didFirst","item","val","Date","Entry","unshift","peek","load","arr","l","expiresAt","prune","doUse","unshiftNode","diff","delete","removeNode","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","Item","title","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","npm_package_name","npm_lifecycle_script","TEST_PSEUDOMAP","PseudoMap","TypeError","clear","kv","_data","find","res","_index","configurable","writable","entries","same","_isNumber","isNaN","parseFloat","isFinite","_capitalize","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","arrayProps","obj","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","locationString","Boolean","j","Number","inherits","superCtor","super_","TempCtor","isBuffer","arg","copy","fill","readUInt8","formatRegExp","format","f","isString","objects","JSON","stringify","_","isNull","isObject","deprecate","msg","isUndefined","global","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","trace","debugs","debugEnviron","debuglog","NODE_DEBUG","RegExp","test","pid","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","hash","idx","recurseTimes","isFunction","ret","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","base","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","isNumber","desc","getOwnPropertyDescriptor","substr","numLinesEst","reduce","cur","ar","isNullOrUndefined","isSymbol","re","objectToString","d","isPrimitive","o","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","log","origin","add","Node","list","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","from","to","sliceReverse","reverse","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","warn","group","groupCollapsed","groupEnd","defineProperties","reenableLogs","prefix","describeBuiltInComponentFrame","describeDebugInfoFrame","reentry","componentFrameCache","__DEV__","PossiblyWeakMap","WeakMap","describeNativeComponentFrame","construct","currentDispatcherRef","frame","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","control","Fake","Reflect","maybePromise","catch","sample","namePropDescriptor","sampleStack","controlStack","sampleLines","controlLines","includes","syntheticFrame","describeClassComponentFrame","describeFunctionComponentFrame","describeFiber","workTagMap","workInProgress","HostComponent","LazyComponent","SuspenseComponent","SuspenseListComponent","FunctionComponent","IndeterminateComponent","SimpleMemoComponent","ForwardRef","ClassComponent","getStackByFiberInDevAndProd","entry","supportsNativeConsoleTasks","_debugTask","formatWithStyles","getInternalReactConstants","getDispatcherRef","consoleManagedByDevToolsDuringStrictMode","castBool","castBrowserTheme","OVERRIDE_CONSOLE_METHODS","DIMMED_NODE_CONSOLE_COLOR","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","text","STYLE_DIRECTIVE_REGEX","isStrictModeOverride","method","getConsoleColor","consoleSettingsRef","browserTheme","LIGHT_MODE_DIMMED_WARNING_COLOR","DARK_MODE_DIMMED_WARNING_COLOR","LIGHT_MODE_DIMMED_ERROR_COLOR","DARK_MODE_DIMMED_ERROR_COLOR","LIGHT_MODE_DIMMED_LOG_COLOR","DARK_MODE_DIMMED_LOG_COLOR","injectedRenderers","targetConsole","targetConsoleMethods","unpatchFn","isNode","dangerous_setTargetConsoleForTesting","targetConsoleForTesting","registerRenderer","renderer","onErrorOrWarning","getCurrentFiber","findFiberByHostInstance","ReactTypeOfWork","appendComponentStack","breakOnConsoleErrors","showInlineWarningsAndErrors","hideConsoleLogsInStrictMode","patch","originalConsoleMethods","originalMethod","__REACT_DEVTOOLS_ORIGINAL_METHOD__","overrideMethod","shouldAppendWarningStack","lastArg","alreadyHasComponentStack","shouldShowInlineWarningsAndErrors","componentStack","__REACT_DEVTOOLS_OVERRIDE_METHOD__","unpatch","unpatchForStrictModeFn","patchForStrictMode","overrideConsoleMethods","__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__","color","__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__","unpatchForStrictMode","patchConsoleUsingWindowValues","__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__","__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__","__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__","__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__","__REACT_DEVTOOLS_BROWSER_THEME__","writeConsolePatchSettingsToWindow","settings","installConsoleFunctionsToWindow","__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__","registerRendererWithConsole","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","SERVER_CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_SYMBOL_STRING","LEGACY_ELEMENT_NUMBER","LEGACY_ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","CONSUMER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING","is","y","objectIs","cachedStyleNameToValueMap","getStyleXData","sources","Set","resolvedStyles","crawlData","sort","crawlObjectProperties","fromEntries","propertyValue","getPropertyValueForStyleName","nestedStyle","styleName","styleSheetIndex","document","styleSheets","styleSheet","rules","cssRules","_e","ruleIndex","CSSStyleRule","rule","cssText","selectorText","startsWith","property","getPropertyValue","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","parseInt","COMPACT_LINE_HEIGHT","REACT_TOTAL_NUM_LANES","SCHEDULING_PROFILER_VERSION","SNAPSHOT_MAX_HEIGHT","TIME_OFFSET","performanceTarget","supportsUserTiming","performance","mark","clearMarks","supportsUserTimingV3","CHECK_V3_MARK","markOptions","getCurrentTime","setPerformanceMock_ONLY_FOR_TESTING","performanceMock","createProfilingHooks","getDisplayNameForFiber","getIsProfiling","getLaneLabelMap","reactVersion","currentBatchUID","currentReactComponentMeasure","currentReactMeasuresStack","currentTimelineData","currentFiberStacks","isProfiling","nextRenderShouldStartNewBatch","getRelativeTime","currentTime","startTime","getInternalModuleRanges","__REACT_DEVTOOLS_GLOBAL_HOOK__","ranges","getTimelineData","laneToLanesArray","lanes","lanesArray","lane","laneToLabelMap","markMetadata","markAndClear","range","startStackFrame","stopStackFrame","labels","markName","recordReactMeasureStarted","top","reactMeasure","batchUID","duration","batchUIDToMeasuresMap","laneToReactMeasureMap","reactMeasures","recordReactMeasureCompleted","markCommitStarted","markCommitStopped","markComponentRenderStarted","componentName","warning","markComponentRenderStopped","componentMeasures","markComponentLayoutEffectMountStarted","markComponentLayoutEffectMountStopped","markComponentLayoutEffectUnmountStarted","markComponentLayoutEffectUnmountStopped","markComponentPassiveEffectMountStarted","markComponentPassiveEffectMountStopped","markComponentPassiveEffectUnmountStarted","markComponentPassiveEffectUnmountStopped","markComponentErrored","thrownValue","phase","alternate","thrownErrors","wakeableIDs","wakeableID","getWakeableID","wakeable","markComponentSuspended","eventType","suspenseEvent","promiseName","resolution","suspenseEvents","markLayoutEffectsStarted","markLayoutEffectsStopped","markPassiveEffectsStarted","markPassiveEffectsStopped","markRenderStarted","markRenderYielded","markRenderStopped","markRenderScheduled","schedulingEvents","markForceUpdateScheduled","getParentFibers","parents","parent","markStateUpdateScheduled","toggleProfilingStatus","internalModuleSourceToRanges","flamechart","nativeEvents","networkMeasures","otherUserTimingMarks","snapshots","snapshotHeight","fiberStack","profilingHooks","ComponentFilterDisplayName","ComponentFilterElementType","ComponentFilterHOC","ComponentFilterLocation","ElementTypeClass","ElementTypeContext","ElementTypeFunction","ElementTypeForwardRef","ElementTypeHostComponent","ElementTypeMemo","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeRoot","ElementTypeSuspense","ElementTypeSuspenseList","ElementTypeTracingMarker","deletePathInObject","getDisplayName","getWrappedDisplayName","getDefaultComponentFilters","getInObject","getUID","renamePathInObject","setInObject","utfEncodeString","filterOutLocationComponentFilters","sessionStorageGetItem","gt","gte","parseSourceFromComponentStack","serializeToString","cleanForBridge","copyWithDelete","copyWithRename","copyWithSet","getEffectDurations","__DEBUG__","PROFILING_FLAG_BASIC_SUPPORT","PROFILING_FLAG_TIMELINE_SUPPORT","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","TREE_OPERATION_ADD","TREE_OPERATION_REMOVE","TREE_OPERATION_REMOVE_ROOT","TREE_OPERATION_REORDER_CHILDREN","TREE_OPERATION_SET_SUBTREE_MODE","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","patchConsoleForStrictMode","unpatchConsoleForStrictMode","enableStyleXFeatures","injectedRef","getFiberFlags","flags","effectTag","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","StrictModeBits","CacheComponent","ContextConsumer","ContextProvider","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","HostPortal","HostRoot","HostHoistable","HostSingleton","HostText","IncompleteClassComponent","IncompleteFunctionComponent","LegacyHiddenComponent","MemoComponent","Mode","OffscreenComponent","ScopeComponent","TracingMarkerComponent","YieldComponent","getTypeSymbol","symbolOrNumber","resolveFiberType","typeSymbol","shouldSkipForgetCheck","resolvedType","resolvedContext","displayNameWithoutForgetWrapper","fiberRoot","stateNode","_debugRootType","fiberToIDMap","idToArbitraryFiberMap","fiberToComponentStackMap","attach","rendererID","reconcilerVersion","injectProfilingHooks","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","supportsTogglingError","supportsTogglingSuspense","response","fibersWithChangedErrorOrWarningCounts","pendingFiberToErrorsMap","pendingFiberToWarningsMap","fiberIDToErrorsMap","fiberIDToWarningsMap","clearErrorsAndWarnings","updateMostRecentlyInspectedElementIfNecessary","flushPendingEvents","clearMessageCountHelper","fiberID","pendingFiberToMessageCountMap","fiberIDToMessageCountMap","clearErrorsForFiberID","clearWarningsForFiberID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","maybeID","getFiberIDUnsafe","forceErrorForFiberIDs","debug","fiberMap","messageMap","flushPendingErrorsAndWarningsAfterDelay","parentFiber","extraString","parentDisplayName","maybeParentID","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","traceUpdatesEnabled","traceUpdatesForNodes","applyComponentFilters","componentFilters","componentFilter","isEnabled","isValid","__REACT_DEVTOOLS_COMPONENT_FILTERS__","componentFiltersWithoutLocationBasedOnes","updateComponentFilters","getFiberRoots","currentRootID","getOrGenerateFiberID","pushOperation","rootDisplayNameCounter","setRootPseudoKey","mountFiberRecursively","reevaluateErrorsAndWarnings","shouldFilterFiber","getElementTypeForFiber","displayNameRegExp","idToTreeBaseDurationMap","idToRootMap","didGenerateID","refinedID","getFiberIDThrows","untrackFiberID","untrackFibersSet","untrackFibersTimeoutID","untrackFibers","shouldErrorFiberAlwaysNull","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","state","getContextChangedKeys","getChangedKeys","indices","getChangedHooksIndices","hooks","updateContextsForFiber","idToContextsMap","contexts","getContextsForFiber","NO_CONTEXT","legacyContext","modernContext","contextType","crawlToInitializeContextsMap","sibling","prevContexts","nextContexts","prevLegacyContext","prevModernContext","nextLegacyContext","nextModernContext","prevContext","nextContext","isHookThatCanScheduleUpdate","hookObject","boundHasOwnProperty","bind","didStatefulHookChange","prevMemoizedState","nextMemoizedState","changedKeys","didFiberRender","PerformedWork","pendingOperations","pendingRealUnmountedIDs","pendingSimulatedUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","op","isInteger","shouldBailoutWithPendingOperations","currentCommitProfilingMetadata","durations","flushOrQueueOperations","operations","flushPendingErrorsAndWarningsAfterDelayTimeoutID","clearPendingErrorsAndWarningsAfterDelay","recordPendingErrorsAndWarnings","countMap","mergeMapsAndGetCountHelper","newCount","messageCountMap","pendingMessageCountMap","refinedMessageCountMap","pendingCount","previousCount","errorCount","warningCount","numUnmountIDs","stringKey","encodedString","getStringID","string","existingEntry","recordMount","isRoot","hasOwnerMetadata","isProfilingSupported","profilingFlags","mode","displayNamesByRootID","getDisplayNameForRoot","debugOwner","_debugOwner","ownerID","parentID","displayNameStringID","keyString","keyStringID","recordProfilingDurations","recordUnmount","isSimulated","trackedPathMatchFiber","setTrackedPath","unsafeID","_debugNeedsRemount","firstChild","traverseSiblings","traceNearestHostComponentUpdate","mightSiblingsBeOnTrackedPath","updateTrackedPathStateBeforeMount","shouldIncludeInTree","isSuspense","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","updateTrackedPathStateAfterMount","unmountFiberChildrenRecursively","isTimedOutSuspense","actualDuration","treeBaseDuration","convertedTreeBaseDuration","Math","floor","selfDuration","metadata","maxActualDuration","recordChangeDescriptions","changeDescription","changeDescriptions","recordResetChildren","childSet","nextChildren","findReorderedChildrenRecursively","numChildren","updateFiberRecursively","shouldResetChildren","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","nextChild","prevChildAtSameIndex","prevChild","hostFibers","findAllCurrentHostFibers","hostFiber","nextChildSet","cleanup","rootSupportsProfiling","memoizedInteractions","flushInitialOperations","localPendingOperationsQueue","trackedPath","mightBeOnTrackedPath","commitTime","profilingStartTime","priorityLevel","updaters","getUpdatersList","effectDuration","passiveEffectDuration","memoizedUpdaters","fiberToSerializedElement","handleCommitFiberUnmount","handlePostCommitFiberRoot","handleCommitFiberRoot","formatPriorityLevel","wasMounted","isDehydrated","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","fibers","findCurrentFiberUsingSlowPathById","findNativeNodesForFiberID","err","getDisplayNameForFiberID","getFiberForNative","hostInstance","getFiberIDForNative","findNearestUnfilteredAncestor","assertIsMounted","getNearestMountedFiber","nearestMounted","nextNode","Placement","Hydrating","parentA","parentB","nextParent","didFindChild","prepareViewAttributeSource","path","isMostRecentlyInspectedElement","$attribute","prepareViewElementSource","$type","getOwnersList","owners","ownerFiber","getInstanceAndStyle","isErrorBoundary","getDerivedStateFromError","componentDidCatch","getNearestErrorBoundaryID","inspectElementRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","consumerResolvedContext","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","rootType","errors","warnings","isErrored","targetErrorBoundaryID","DidCapture","plugins","stylex","xstyle","getSourceForFiber","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleError","canToggleSuspense","forceFallbackForSuspenseIDs","rendererPackageName","rendererVersion","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","isPathAllowed","updateSelectedElement","inspectedElement","$r","storeAsGlobal","getSerializedElementValueByPath","valueToCopy","inspectElement","requestID","forceFullData","responseID","errorType","cleanedInspectedElement","logElementToConsole","supportsGroup","nativeNodes","chrome","navigator","userAgent","deletePath","hookID","pendingProps","renamePath","oldPath","newPath","overrideValueAtPath","initialTreeBaseDurationsMap","initialIDToRootMap","getProfilingData","dataForRoots","rootID","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","timelineData","rest","batchUIDToMeasuresKeyValueArray","laneToLabelKeyValueArray","laneToReactMeasureKeyValueArray","startProfiling","shouldRecordChangeDescriptions","stopProfiling","shouldErrorFiberAccordingToMap","overrideError","forceError","shouldSuspendFiberAlwaysFalse","shouldSuspendFiberAccordingToSet","overrideSuspense","forceFallback","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","rootPseudoKeys","counter","pseudoKey","preferredDisplayName","fallbackDisplayName","getPathForElement","keyPath","getBestMatchForTrackedPath","isFullMatch","setTraceUpdatesEnabled","hasFiberWithId","getComponentStackForFiber","dispatcherRef","compareVersions","dehydrate","FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER","hasAssignedBackend","cleanedPaths","unserializablePaths","cleanedData","cleaned","unserializable","updated","oldKey","hostRoot","inputArgs","REGEXP","firstArg","formatStr","elem","formatting","maybeMessage","formatted","escaped","ptn","flag","isSynchronousXHRSupported","featurePolicy","allowsFeature","isReactNativeEnvironment","url","withoutParentheses","sourceURL","column","CHROME_STACK_REGEXP","parseSourceFromChromeStack","frames","sanitizedFrame","locationInParenthesesMatch","possibleLocation","parseSourceFromFirefoxStack","frameWithoutFunctionName","enableLogger","isInternalFacebookBuild","getDataType","getDisplayNameForReactElement","getAllEnumerableKeys","formatDataForPreview","meta","inspectable","inspected","preview_long","preview_short","readonly","LEVEL_THRESHOLD","createDehydrated","dehydrated","level","isPathAllowedCheck","tagName","byteLength","unserializableValue","toStringTag","keyAsString","fillInPath","unserializablePath","isMatch","upgradeUnserializable","hydrate","last","NaN","replaced","replacement","destination","renameElementSymbol","REACT_LEGACY_ELEMENT_TYPE","REACT_PROVIDER_TYPE","REACT_SCOPE_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_TRACING_MARKER_TYPE","FAUX_ITERATOR_SYMBOL","maybeIterator","ASYNC_ITERATOR","asyncIterator","LRU","isElement","typeOf","Lazy","Memo","Portal","SuspenseList","TracingMarker","enableRenderableContext","LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY","LOCAL_STORAGE_OPEN_IN_EDITOR_URL","LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS","LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY","LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY","LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE","localStorageGetItem","localStorageSetItem","cachedDisplayNames","encodedStringCache","alphaSortKeys","currentKeys","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","getPrototypeOf","outerType","innerType","fallbackName","nameFromCache","uidCounter","utfDecodeStringWithRanges","left","right","fromCodePoint","surrogatePairToCodePoint","charCode1","charCode2","cached","encoded","charCode","charCodeAt","printOperationsArray","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","operation","removeLength","removeIndex","numErrors","numWarnings","getSavedComponentFilters","raw","parsedFilters","setSavedComponentFilters","parseBool","getAppendComponentStack","getBreakOnConsoleErrors","getHideConsoleLogsInStrictMode","getShowInlineWarningsAndErrors","getDefaultOpenInEditorURL","EDITOR_URL","getOpenInEditorURL","parseElementDisplayNameFromBackend","formattedDisplayName","hocDisplayNames","compiledWithForget","shallowDiffers","attribute","reduced","attr","lastOld","lastNew","HTMLElement","ArrayBuffer","isView","toStringValue","isPlainObject","typeOfWithLegacyElementSymbol","$$typeofType","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","showFormattedValue","toLowerCase","buffer","shortName","entryOrEntries","objectPrototype","objectParentPrototype","backendToFrontendSerializedElementMapper","normalizeUrl","enableComponentStackLocations","favorSafetyOverHydrationPerf","enableAsyncActions","disableSchedulerTimeoutInWorkLoop","enableDeferRootSchedulingToMicrotask","disableDefaultPropsExceptForClasses","enableSuspenseCallback","enableScopeAPI","enableCreateEventHandleAPI","enableLegacyFBSupport","enableCache","enableLegacyCache","__EXPERIMENTAL__","enableBinaryFlight","enableFlightReadableStream","enableAsyncIterableChildren","enableTaint","enablePostpone","enableTransitionTracing","enableLazyContextPropagation","enableLegacyHidden","enableSuspenseAvoidThisFallback","enableSuspenseAvoidThisFallbackFizz","enableCPUSuspense","enableUseMemoCacheHook","enableNoCloningMemoCache","enableUseEffectEventHook","enableFizzExternalRuntime","alwaysThrottleRetries","passChildrenWhenCloningPersistedNodes","enableServerComponentLogs","enableAddPropertiesFastPath","enableOwnerStacks","enableShallowPropDiffing","enableRetryLaneExpiration","retryLaneExpirationMs","syncLaneExpirationMs","transitionLaneExpirationMs","disableLegacyContext","useModernStrictMode","disableIEWorkarounds","enableFilterEmptyStringAttributesDOM","disableClientCache","enableInfiniteRenderLoopDetection","enableRefAsProp","disableStringRefs","enableFastJSX","enableReactTestRendererWarning","disableLegacyMode","enableUseDeferredValueInitialArg","forceConcurrentByDefaultForTesting","enableUnifiedSyncLane","allowConcurrentByDefault","disableCommentsAsDOMContainers","enableTrustedTypesIntegration","disableInputAttributeSyncing","disableTextareaChildren","enableSchedulingProfiler","__PROFILE__","debugRenderPhaseSideEffectsForStrictMode","enableProfilerTimer","enableProfilerCommitHooks","enableProfilerNestedUpdatePhase","enableDebugTracing","enableAsyncDebugInfo","enableUpdaterTracking","enableGetInspectorDataForInstanceInProduction","enableDO_NOT_USE_disableStrictPassiveEffect"],"sourceRoot":""}